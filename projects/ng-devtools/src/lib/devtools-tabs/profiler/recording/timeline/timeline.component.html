<ng-container *ngIf="profilerFrames.length > 0; else noRecords">
  <ng-container *ngTemplateOutlet="recordView; context: { record: frame }"></ng-container>
</ng-container>

<ng-template #noRecords>
  Nothing was profiled
</ng-template>

<ng-template let-record="record" #recordView>
  <ng-timeline-controls
    [frameColor]="getColorByFrameRate(estimateFrameRate(record.duration))"
    [record]="record"
    [estimatedFrameRate]="estimateFrameRate(record.duration)"
    [visualizationMode]="visualizationMode"
    (changeVisualizationMode)="visualizationMode = $event"
    (exportProfile)="exportProfile.emit($event)"
  ></ng-timeline-controls>
  <ng-frame-selector
    (move)="move($event)"
    (selectFrame)="selectFrame($event)"
    [profilerFramesLength]="profilerFrames.length"
    [graphData]="graphData"
    [currentFrame]="currentFrameIndex"
  ></ng-frame-selector>
  <ng-timeline-visualizer [visualizationMode]="visualizationMode" [frame]="record"></ng-timeline-visualizer>
</ng-template>
