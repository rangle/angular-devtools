{"version":3,"file":"ng-devtools.js","sources":["../../../projects/ng-devtools/src/lib/theme-service.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/diffing/index.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/arrayify-props.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/property-data-source.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/property-expanded-directive-properties.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/directive-property-resolver.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/element-property-resolver.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/directive-forest-utils.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/tab-update.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/filter/filter.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/filter/filter.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/directive-forest.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/directive-forest.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/breadcrumbs/breadcrumbs.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/breadcrumbs/breadcrumbs.component.ts","../../../projects/ng-devtools/src/lib/vendor/angular-split/lib/utils.ts","../../../projects/ng-devtools/src/lib/vendor/angular-split/lib/component/split.component.ts","../../../projects/ng-devtools/src/lib/vendor/angular-split/lib/directive/splitArea.directive.ts","../../../projects/ng-devtools/src/lib/vendor/angular-split/lib/module.ts","../../../projects/ng-devtools/src/lib/vendor/angular-split/public_api.ts","../../../projects/ng-devtools/src/lib/application-operations.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-header/component-metadata/component-metadata.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-header/component-metadata/component-metadata.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-header/property-tab-header.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-header/property-tab-header.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-view/property-view-header/property-view-header.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-view/property-view-header/property-view-header.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-view/property-view-body/property-view-tree/property-preview/property-preview.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-view/property-view-body/property-view-tree/property-preview/property-preview.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-view/property-view-body/property-view-tree/property-editor/property-editor.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-view/property-view-body/property-view-tree/property-editor/property-editor.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-view/property-view-body/property-view-tree/property-view-tree.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-view/property-view-body/property-view-tree/property-view-tree.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-view/property-view-body/property-view-body.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-view/property-view-body/property-view-body.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-view/property-view.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-view/property-view.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-tab-body.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-tab-body.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.component.ts","../../../projects/ng-devtools/src/lib/application-environment.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/profiler-import-dialog.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/profiler-import-dialog.component.ts","../../../projects/ng-devtools/src/lib/vendor/chromium/date-utilities.ts","../../../projects/ng-devtools/src/lib/file-api-service.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/record-formatter/frame-merger.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/timeline.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/timeline.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/router-tree/router-tree.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/router-tree/router-tree.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/devtools-tabs.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/devtools-tabs.component.html","../../../projects/ng-devtools/src/lib/devtools.component.html","../../../projects/ng-devtools/src/lib/devtools.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab-body/property-view/property-view.module.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-tab.module.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/directive-forest.module.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.module.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/record-formatter/record-formatter.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/record-formatter/flamegraph-formatter/flamegraph-formatter.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/flamegraph-visualizer/flamegraph-visualizer.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/flamegraph-visualizer/flamegraph-visualizer.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/record-formatter/bargraph-formatter/bargraph-formatter.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/bar-chart/bar-chart.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/bar-chart/bar-chart.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/bargraph-visualizer/bargraph-visualizer.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/bargraph-visualizer/bargraph-visualizer.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/record-formatter/tree-map-formatter/tree-map-formatter.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/tree-map-visualizer/tree-map-visualizer.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/tree-map-visualizer/tree-map-visualizer.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/timeline-visualizer.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/timeline-visualizer.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/execution-details/execution-details.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/execution-details/execution-details.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-visualizer/recording-visualizer.module.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/frame-selector/frame-selector.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/frame-selector/frame-selector.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/timeline-controls/timeline-controls.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/timeline-controls/timeline-controls.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-modal/recording-dialog/recording-dialog.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-modal/recording-dialog/recording-dialog.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-modal/recording-modal.component.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/recording-modal/recording-modal.component.html","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/recording/timeline/timeline.module.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler.module.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/router-tree/router-tree.module.ts","../../../projects/ng-devtools/src/lib/devtools-tabs/devtools-tabs.module.ts","../../../projects/ng-devtools/src/lib/devtools.module.ts","../../../projects/ng-devtools/src/public-api.ts","../../../projects/ng-devtools/src/ng-devtools.ts"],"sourcesContent":["import { ReplaySubject, Subject } from 'rxjs';\nimport { Injectable, RendererFactory2, Renderer2 } from '@angular/core';\n\nexport type Theme = 'dark-theme' | 'light-theme';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ThemeService {\n  private renderer: Renderer2;\n  currentTheme: Subject<Theme> = new ReplaySubject();\n\n  constructor(private _rendererFactory: RendererFactory2) {\n    this.renderer = this._rendererFactory.createRenderer(null, null);\n    this.toggleDarkMode(this._prefersDarkMode);\n  }\n\n  toggleDarkMode(isDark: boolean): void {\n    const removeClass = isDark ? 'light-theme' : 'dark-theme';\n    const addClass = !isDark ? 'light-theme' : 'dark-theme';\n    this.renderer.removeClass(document.body, removeClass);\n    this.renderer.addClass(document.body, addClass);\n    this.currentTheme.next(addClass);\n  }\n\n  initializeThemeWatcher(): void {\n    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {\n      this.toggleDarkMode(this._prefersDarkMode);\n    });\n  }\n\n  private get _prefersDarkMode(): boolean {\n    return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n  }\n}\n","import { DefaultIterableDiffer } from '@angular/core';\n\nexport interface MovedRecord {\n  currentIndex: number;\n  previousIndex: number;\n}\n\nexport const diff = <T>(\n  differ: DefaultIterableDiffer<T>,\n  a: T[],\n  b: T[]\n): {\n  newItems: T[];\n  removedItems: T[];\n  movedItems: T[];\n} => {\n  differ.diff(a);\n  differ.diff(b);\n\n  const alreadySet: boolean[] = [];\n  const movedItems: T[] = [];\n\n  // We first have to set the moved items to their correct positions.\n  // Keep in mind that the track by function may not guarantee\n  // that we haven't changed any of the items' props.\n  differ.forEachMovedItem(record => {\n    if (record.currentIndex === null) {\n      return;\n    }\n    if (record.previousIndex === null) {\n      return;\n    }\n    // We want to preserve the reference so that a default\n    // track by function used by the CDK, for instance, can\n    // recognize that this item's identity hasn't changed.\n    // At the same time, since we don't have the guarantee\n    // that we haven't already set the previousIndex while\n    // iterating, we need to check that. If we have, we assign\n    // this array item to a new object. We don't want to risk\n    // changing the properties of an object we'll use in the future.\n    if (!alreadySet[record.previousIndex]) {\n      a[record.currentIndex] = a[record.previousIndex];\n    } else {\n      a[record.currentIndex] = {} as T;\n    }\n    Object.keys(b[record.currentIndex]).forEach(prop => {\n      // TypeScript's type inference didn't follow the check from above.\n      if (record.currentIndex === null) {\n        return;\n      }\n      a[record.currentIndex][prop] = b[record.currentIndex][prop];\n    });\n    if (!alreadySet[record.previousIndex]) {\n      // tslint:disable-next-line: no-non-null-assertion\n      a[record.previousIndex] = null!;\n    }\n    alreadySet[record.currentIndex] = true;\n    movedItems.push(a[record.currentIndex]);\n  });\n\n  // Now we can set the new items and remove the deleted ones.\n  const newItems: T[] = [];\n  const removedItems: T[] = [];\n  differ.forEachAddedItem(record => {\n    if (record.currentIndex !== null && record.previousIndex === null) {\n      a[record.currentIndex] = record.item;\n      alreadySet[record.currentIndex] = true;\n      newItems.push(record.item);\n    }\n  });\n\n  differ.forEachRemovedItem(record => {\n    if (record.previousIndex === null) {\n      return;\n    }\n    if (record.currentIndex === null && !alreadySet[record.previousIndex]) {\n      // tslint:disable-next-line: no-non-null-assertion\n      a[record.previousIndex] = null!;\n    }\n    removedItems.push(record.item);\n  });\n\n  for (let i = a.length - 1; i >= 0; i--) {\n    if (a[i] === null) {\n      a.splice(i, 1);\n    }\n  }\n\n  return { newItems, removedItems, movedItems };\n};\n","import { Descriptor } from 'protocol';\nimport { Property } from './element-property-resolver';\n\nexport const arrayifyProps = (\n  props: { [prop: string]: Descriptor } | Descriptor[],\n  parent: Property | null = null\n): Property[] =>\n  Object.keys(props)\n    .map((name) => ({ name, descriptor: props[name], parent }))\n    .sort((a, b) => {\n      const parsedA = parseInt(a.name, 10);\n      const parsedB = parseInt(b.name, 10);\n\n      if (isNaN(parsedA) || isNaN(parsedB)) {\n        return a.name > b.name ? 1 : -1;\n      }\n\n      return parsedA - parsedB;\n    });\n","import { Descriptor, DirectivePosition, Events, MessageBus, Properties } from 'protocol';\nimport { CollectionViewer, DataSource, SelectionChange } from '@angular/cdk/collections';\nimport { BehaviorSubject, merge, Observable, Subscription } from 'rxjs';\nimport { MatTreeFlattener } from '@angular/material/tree';\nimport { FlatTreeControl } from '@angular/cdk/tree';\nimport { map } from 'rxjs/operators';\nimport { DefaultIterableDiffer } from '@angular/core';\nimport { diff } from '../../diffing';\nimport { FlatNode, Property } from './element-property-resolver';\nimport { arrayifyProps } from './arrayify-props';\n\nconst trackBy = (_: number, item: FlatNode) => {\n  return `#${item.prop.name}#${item.level}`;\n};\n\nexport class PropertyDataSource extends DataSource<FlatNode> {\n  private _data = new BehaviorSubject<FlatNode[]>([]);\n  private _subscriptions: Subscription[] = [];\n  private _expandedData = new BehaviorSubject<FlatNode[]>([]);\n  private _differ = new DefaultIterableDiffer(trackBy);\n\n  constructor(\n    props: { [prop: string]: Descriptor },\n    private _treeFlattener: MatTreeFlattener<Property, FlatNode>,\n    private _treeControl: FlatTreeControl<FlatNode>,\n    private _entityPosition: DirectivePosition,\n    private _messageBus: MessageBus<Events>\n  ) {\n    super();\n    this._data.next(this._treeFlattener.flattenNodes(arrayifyProps(props)));\n  }\n\n  get data(): FlatNode[] {\n    return this._data.value;\n  }\n\n  get treeControl(): FlatTreeControl<FlatNode> {\n    return this._treeControl;\n  }\n\n  update(props: { [prop: string]: Descriptor }): void {\n    const newData = this._treeFlattener.flattenNodes(arrayifyProps(props));\n    diff(this._differ, this.data, newData);\n    this._data.next(this.data);\n  }\n\n  connect(collectionViewer: CollectionViewer): Observable<FlatNode[]> {\n    const changed = this._treeControl.expansionModel.changed;\n    if (!changed) {\n      throw new Error('Unable to subscribe to the expansion model change');\n    }\n    const s = changed.subscribe((change: SelectionChange<FlatNode>) => {\n      if (change.added) {\n        change.added.forEach((node) => this._toggleNode(node, true));\n      }\n      if (change.removed) {\n        change.removed.reverse().forEach((node) => this._toggleNode(node, false));\n      }\n    });\n    this._subscriptions.push(s);\n\n    const changes = [collectionViewer.viewChange, this._treeControl.expansionModel.changed, this._data];\n\n    return merge(...changes).pipe(\n      map(() => {\n        this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this.data, this._treeControl));\n        return this._expandedData.value;\n      })\n    );\n  }\n\n  disconnect(): void {\n    this._subscriptions.forEach((s) => s.unsubscribe());\n    this._subscriptions = [];\n  }\n\n  private _toggleNode(node: FlatNode, expand: boolean): void {\n    const index = this.data.indexOf(node);\n    // If we cannot find the current node, or the current node is not expandable\n    // or...if it's expandable but it does have a value, or we're collapsing\n    // we're not interested in fetching its children.\n    if (index < 0 || !node.expandable || node.prop.descriptor.value || !expand) {\n      return;\n    }\n\n    let parentPath: string[] = [];\n    let current = node.prop;\n    while (current) {\n      parentPath.push(current.name);\n      if (!current.parent) {\n        break;\n      }\n      current = current.parent;\n    }\n    parentPath = parentPath.reverse();\n\n    this._messageBus.emit('getNestedProperties', [this._entityPosition, parentPath]);\n\n    this._messageBus.once('nestedProperties', (position: DirectivePosition, data: Properties, _path: string[]) => {\n      node.prop.descriptor.value = data.props;\n      this._treeControl.expand(node);\n      const props = arrayifyProps(data.props, node.prop);\n      const flatNodes = this._treeFlattener.flattenNodes(props);\n      flatNodes.forEach((f) => (f.level += node.level + 1));\n      this.data.splice(index + 1, 0, ...flatNodes);\n      this._data.next(this.data);\n    });\n  }\n}\n","import { Descriptor, NestedProp, PropType } from 'protocol';\nimport { FlatNode } from './element-property-resolver';\n\nexport const getExpandedDirectiveProperties = (data: FlatNode[]): NestedProp[] => {\n  const getChildren = (prop: Descriptor) => {\n    if ((prop.type === PropType.Object || prop.type === PropType.Array) && prop.value) {\n      return Object.keys(prop.value).map(k => {\n        return {\n          name: prop.type === PropType.Array ? parseInt(k, 10) : k,\n          children: getChildren(prop.value[k]),\n        };\n      });\n    }\n    return [];\n  };\n\n  const getExpandedProperties = (props: { [name: string]: Descriptor }) => {\n    return Object.keys(props).map(name => {\n      return {\n        name,\n        children: getChildren(props[name]),\n      };\n    });\n  };\n\n  const parents: { [name: string]: Descriptor } = {};\n\n  for (const node of data) {\n    let prop = node.prop;\n    while (prop.parent) {\n      prop = prop.parent;\n    }\n    parents[prop.name] = prop.descriptor;\n  }\n\n  return getExpandedProperties(parents);\n};\n","import { Descriptor, PropType, MessageBus, Events, Properties, DirectivePosition, NestedProp } from 'protocol';\nimport { MatTreeFlattener } from '@angular/material/tree';\nimport { PropertyDataSource } from './property-data-source';\nimport { FlatTreeControl } from '@angular/cdk/tree';\nimport { getExpandedDirectiveProperties } from './property-expanded-directive-properties';\nimport { Observable } from 'rxjs';\nimport { Property, FlatNode } from './element-property-resolver';\nimport { ViewEncapsulation } from '@angular/core';\nimport { arrayifyProps } from './arrayify-props';\n\nexport interface DirectiveTreeData {\n  dataSource: PropertyDataSource;\n  treeControl: FlatTreeControl<FlatNode>;\n}\n\nconst expandable = (prop: Descriptor) => {\n  if (!prop) {\n    return false;\n  }\n  if (!prop.expandable) {\n    return false;\n  }\n  return !(prop.type !== PropType.Object && prop.type !== PropType.Array);\n};\n\nconst getDirectiveControls = (\n  dataSource: PropertyDataSource\n): { dataSource: PropertyDataSource; treeControl: FlatTreeControl<FlatNode> } => {\n  const treeControl = dataSource.treeControl;\n  return {\n    dataSource,\n    treeControl,\n  };\n};\n\nexport const constructPathOfKeysToPropertyValue = (nodePropToGetKeysFor: Property, keys: string[] = []): string[] => {\n  keys.unshift(nodePropToGetKeysFor.name);\n  const parentNodeProp = nodePropToGetKeysFor.parent;\n  if (parentNodeProp) {\n    constructPathOfKeysToPropertyValue(parentNodeProp, keys);\n  }\n  return keys;\n};\n\nexport class DirectivePropertyResolver {\n  private _treeFlattener = new MatTreeFlattener(\n    (node: Property, level: number): FlatNode => {\n      return {\n        expandable: expandable(node.descriptor),\n        prop: node,\n        level,\n      };\n    },\n    (node) => node.level,\n    (node) => node.expandable,\n    (node) => this._getChildren(node)\n  );\n\n  private _treeControl = new FlatTreeControl<FlatNode>(\n    (node) => node.level,\n    (node) => node.expandable\n  );\n\n  private _inputsDataSource: PropertyDataSource;\n  private _outputsDataSource: PropertyDataSource;\n  private _stateDataSource: PropertyDataSource;\n\n  constructor(\n    private _messageBus: MessageBus<Events>,\n    private _props: Properties,\n    private _directivePosition: DirectivePosition\n  ) {\n    this._initDataSources();\n  }\n\n  get directiveInputControls(): DirectiveTreeData {\n    return getDirectiveControls(this._inputsDataSource);\n  }\n\n  get directiveOutputControls(): DirectiveTreeData {\n    return getDirectiveControls(this._outputsDataSource);\n  }\n\n  get directiveStateControls(): DirectiveTreeData {\n    return getDirectiveControls(this._stateDataSource);\n  }\n\n  get directiveProperties(): { [name: string]: Descriptor } {\n    return this._props.props;\n  }\n\n  get directivePosition(): DirectivePosition {\n    return this._directivePosition;\n  }\n\n  get directiveViewEncapsulation(): ViewEncapsulation | undefined {\n    return this._props.metadata?.encapsulation;\n  }\n\n  get directiveHasOnPushStrategy(): boolean | undefined {\n    return this._props.metadata?.onPush;\n  }\n\n  getExpandedProperties(): NestedProp[] {\n    return [\n      ...getExpandedDirectiveProperties(this._inputsDataSource.data),\n      ...getExpandedDirectiveProperties(this._outputsDataSource.data),\n      ...getExpandedDirectiveProperties(this._stateDataSource.data),\n    ];\n  }\n\n  updateProperties(newProps: Properties): void {\n    this._props = newProps;\n    const { inputProps, outputProps, stateProps } = this._classifyProperties();\n\n    this._inputsDataSource.update(inputProps);\n    this._outputsDataSource.update(outputProps);\n    this._stateDataSource.update(stateProps);\n  }\n\n  updateValue(node: FlatNode, newValue: any): void {\n    const directiveId = this._directivePosition;\n    const keyPath = constructPathOfKeysToPropertyValue(node.prop);\n    this._messageBus.emit('updateState', [{ directiveId, keyPath, newValue }]);\n    node.prop.descriptor.value = newValue;\n  }\n\n  private _getChildren(prop: Property): Property[] | undefined {\n    const descriptor = prop.descriptor;\n    if (\n      (descriptor.type === PropType.Object || descriptor.type === PropType.Array) &&\n      !(descriptor.value instanceof Observable)\n    ) {\n      return arrayifyProps(descriptor.value || {}, prop);\n    } else {\n      console.error('Unexpected data type', descriptor, 'in property', prop);\n    }\n  }\n\n  private _initDataSources(): void {\n    const { inputProps, outputProps, stateProps } = this._classifyProperties();\n\n    this._inputsDataSource = this._createDataSourceFromProps(inputProps);\n    this._outputsDataSource = this._createDataSourceFromProps(outputProps);\n    this._stateDataSource = this._createDataSourceFromProps(stateProps);\n  }\n\n  private _createDataSourceFromProps(props: { [name: string]: Descriptor }): PropertyDataSource {\n    return new PropertyDataSource(\n      props,\n      this._treeFlattener,\n      this._treeControl,\n      this._directivePosition,\n      this._messageBus\n    );\n  }\n\n  private _classifyProperties(): {\n    inputProps: { [name: string]: Descriptor };\n    outputProps: { [name: string]: Descriptor };\n    stateProps: { [name: string]: Descriptor };\n  } {\n    const inputLabels: Set<string> = new Set(Object.keys(this._props.metadata?.inputs || {}));\n    const outputLabels: Set<string> = new Set(Object.keys(this._props.metadata?.outputs || {}));\n\n    const inputProps = {};\n    const outputProps = {};\n    const stateProps = {};\n    let propPointer: { [name: string]: Descriptor };\n\n    Object.keys(this.directiveProperties).forEach((propName) => {\n      propPointer = inputLabels.has(propName) ? inputProps : outputLabels.has(propName) ? outputProps : stateProps;\n      propPointer[propName] = this.directiveProperties[propName];\n    });\n\n    return {\n      inputProps,\n      outputProps,\n      stateProps,\n    };\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  DirectivesProperties,\n  ComponentExplorerViewProperties,\n  Descriptor,\n  MessageBus,\n  Events,\n  DirectivePosition,\n} from 'protocol';\nimport { IndexedNode } from '../directive-forest/index-forest';\nimport { DirectivePropertyResolver } from './directive-property-resolver';\n\nexport interface FlatNode {\n  expandable: boolean;\n  prop: Property;\n  level: number;\n}\n\nexport interface Property {\n  name: string;\n  descriptor: Descriptor;\n  parent: Property | null;\n}\n\n@Injectable()\nexport class ElementPropertyResolver {\n  private _directivePropertiesController = new Map<string, DirectivePropertyResolver>();\n\n  constructor(private _messageBus: MessageBus<Events>) {}\n\n  clearProperties(): void {\n    this._directivePropertiesController = new Map();\n  }\n\n  setProperties(indexedNode: IndexedNode, data: DirectivesProperties): void {\n    this._flushDeletedProperties(data);\n\n    Object.keys(data).forEach((key) => {\n      const controller = this._directivePropertiesController.get(key);\n      if (controller) {\n        controller.updateProperties(data[key]);\n        return;\n      }\n      const position: DirectivePosition = {\n        element: indexedNode.position,\n        directive: undefined,\n      };\n      if (!indexedNode.component || indexedNode.component.name !== key) {\n        position.directive = indexedNode.directives.findIndex((d) => d.name === key);\n      }\n      this._directivePropertiesController.set(\n        key,\n        new DirectivePropertyResolver(this._messageBus, data[key], position)\n      );\n    });\n  }\n\n  private _flushDeletedProperties(data: DirectivesProperties): void {\n    const currentProps = [...this._directivePropertiesController.keys()];\n    const incomingProps = new Set(Object.keys(data));\n    for (const prop of currentProps) {\n      if (!incomingProps.has(prop)) {\n        this._directivePropertiesController.delete(prop);\n      }\n    }\n  }\n\n  getExpandedProperties(): ComponentExplorerViewProperties {\n    const result: ComponentExplorerViewProperties = {};\n    for (const [directive] of this._directivePropertiesController) {\n      const controller = this._directivePropertiesController.get(directive);\n      if (!controller) {\n        console.error('Unable to find nested properties controller for', directive);\n        continue;\n      }\n      result[directive] = controller.getExpandedProperties();\n    }\n    return result;\n  }\n\n  getDirectiveController(directive: string): DirectivePropertyResolver | undefined {\n    return this._directivePropertiesController.get(directive);\n  }\n}\n","import { DevToolsNode, ElementPosition } from 'protocol';\n\nexport interface IndexedNode extends DevToolsNode {\n  position: ElementPosition;\n  children: IndexedNode[];\n}\n\nconst indexTree = (node: DevToolsNode, idx: number, parentPosition: ElementPosition = []): IndexedNode => {\n  const position = parentPosition.concat([idx]);\n  return {\n    position,\n    element: node.element,\n    component: node.component,\n    directives: node.directives.map((d, i) => ({ name: d.name, id: d.id })),\n    children: node.children.map((n, i) => indexTree(n, i, position)),\n  } as IndexedNode;\n};\n\nexport const indexForest = (forest: DevToolsNode[]) => forest.map((n, i) => indexTree(n, i));\n","import { DevToolsNode } from 'protocol';\nimport { CollectionViewer, DataSource } from '@angular/cdk/collections';\nimport { BehaviorSubject, merge, Observable } from 'rxjs';\nimport { MatTreeFlattener } from '@angular/material/tree';\nimport { FlatTreeControl } from '@angular/cdk/tree';\nimport { map } from 'rxjs/operators';\nimport { DefaultIterableDiffer } from '@angular/core';\nimport { IndexedNode, indexForest } from './index-forest';\nimport { diff } from '../../diffing';\n\n/** Flat node with expandable and level information */\nexport interface FlatNode {\n  id: string;\n  expandable: boolean;\n  name: string;\n  directives: string;\n  position: number[];\n  level: number;\n  original: IndexedNode;\n  newItem?: boolean;\n}\n\nconst expandable = (node: IndexedNode) => !!node.children && node.children.length > 0;\n\nconst trackBy = (_: number, item: FlatNode) => `${item.id}#${item.expandable}`;\n\nconst getId = (node: IndexedNode) => {\n  let prefix = '';\n  if (node.component) {\n    prefix = node.component.id.toString();\n  }\n  const dirIds = node.directives\n    .map((d) => d.id)\n    .sort((a, b) => {\n      return a - b;\n    });\n  return prefix + '-' + dirIds.join('-');\n};\n\nexport class ComponentDataSource extends DataSource<FlatNode> {\n  private _differ = new DefaultIterableDiffer(trackBy);\n  private _expandedData = new BehaviorSubject<FlatNode[]>([]);\n  private _flattenedData = new BehaviorSubject<FlatNode[]>([]);\n  private _nodeToFlat = new WeakMap<IndexedNode, FlatNode>();\n\n  private _treeFlattener = new MatTreeFlattener(\n    (node: IndexedNode, level: number) => {\n      if (this._nodeToFlat.has(node)) {\n        return this._nodeToFlat.get(node);\n      }\n      const flatNode: FlatNode = {\n        expandable: expandable(node),\n        id: getId(node),\n        // We can compare the nodes in the navigation functions above\n        // based on this identifier directly, since it's a reference type\n        // and the reference is preserved after transformation.\n        position: node.position,\n        name: node.component ? node.component.name : node.element,\n        directives: node.directives.map((d) => d.name).join(', '),\n        original: node,\n        level,\n      };\n      this._nodeToFlat.set(node, flatNode);\n      return flatNode;\n    },\n    (node) => (node ? node.level : -1),\n    (node) => (node ? node.expandable : false),\n    (node) => (node ? node.children : [])\n  );\n\n  constructor(private _treeControl: FlatTreeControl<FlatNode>) {\n    super();\n  }\n\n  get data(): FlatNode[] {\n    return this._flattenedData.value;\n  }\n\n  get expandedDataValues(): FlatNode[] {\n    return this._expandedData.value;\n  }\n\n  getFlatNodeFromIndexedNode(indexedNode: IndexedNode): FlatNode | undefined {\n    return this._nodeToFlat.get(indexedNode);\n  }\n\n  update(forest: DevToolsNode[]): { newItems: FlatNode[]; movedItems: FlatNode[]; removedItems: FlatNode[] } {\n    if (!forest) {\n      return { newItems: [], movedItems: [], removedItems: [] };\n    }\n\n    const indexedForest = indexForest(forest);\n    const flattenedCollection = this._treeFlattener.flattenNodes(indexedForest) as FlatNode[];\n\n    this.data.forEach((i) => (i.newItem = false));\n\n    const expandedNodes = {};\n    this.data.forEach((item) => {\n      expandedNodes[item.id] = this._treeControl.isExpanded(item);\n    });\n\n    const { newItems, movedItems, removedItems } = diff<FlatNode>(this._differ, this.data, flattenedCollection);\n    this._treeControl.dataNodes = this.data;\n    this._flattenedData.next(this.data);\n\n    movedItems.forEach((i) => {\n      this._nodeToFlat.set(i.original, i);\n      if (expandedNodes[i.id]) {\n        this._treeControl.expand(i);\n      }\n    });\n    newItems.forEach((i) => (i.newItem = true));\n    removedItems.forEach((i) => this._nodeToFlat.delete(i.original));\n\n    return { newItems, movedItems, removedItems };\n  }\n\n  connect(collectionViewer: CollectionViewer): Observable<FlatNode[]> {\n    const changes = [collectionViewer.viewChange, this._treeControl.expansionModel.changed, this._flattenedData];\n    return merge(...changes).pipe(\n      map(() => {\n        this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this.data, this._treeControl) as FlatNode[]);\n        return this._expandedData.value;\n      })\n    );\n  }\n\n  disconnect(): void {}\n}\n","import { FlatNode } from './component-data-source';\nimport { FlatTreeControl } from '@angular/cdk/tree';\n\nexport const isChildOf = (childPosition: number[], parentPosition: number[]) => {\n  if (childPosition.length <= parentPosition.length) {\n    return false;\n  }\n  for (let i = 0; i < parentPosition.length; i++) {\n    if (childPosition[i] !== parentPosition[i]) {\n      return false;\n    }\n  }\n  return true;\n};\n\nexport const parentCollapsed = (nodeIdx: number, all: FlatNode[], treeControl: FlatTreeControl<FlatNode>) => {\n  const node = all[nodeIdx];\n  for (let i = nodeIdx - 1; i >= 0; i--) {\n    if (isChildOf(node.position, all[i].position) && !treeControl.isExpanded(all[i])) {\n      return true;\n    }\n  }\n  return false;\n};\n","import { Subject } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\n// This service is used to notify the CDK virtual scroll parents\n// when the tab has changed. Alternatively, we risk to have broken\n// layout since the virtual scroll is nested inside of a TabGroup\n// which doesn't have consistent dimensions when collapsed and expanded.\nexport class TabUpdate {\n  private _tabUpdate = new Subject();\n\n  tabUpdate$ = this._tabUpdate.asObservable().pipe(share());\n\n  notify(): void {\n    this._tabUpdate.next();\n  }\n}\n","<mat-card class=\"filter\">\n  <div class=\"icon-outer\">\n    <mat-icon color=\"primary\">search</mat-icon>\n  </div>\n  <input\n    matInput\n    #filterInput\n    (input)=\"emitFilter($event)\"\n    (keydown.enter)=\"emitNextMatched()\"\n    (keydown.shift.enter)=\"emitPrevMatched()\"\n    class=\"filter-input\"\n    placeholder=\"Filter components\"\n  />\n  <div class=\"up-down-buttons\" *ngIf=\"hasMatched\">\n    <button mat-icon-button (click)=\"emitPrevMatched()\">\n      <mat-icon class=\"mat-icon-rtl-mirror\">\n        expand_less\n      </mat-icon>\n    </button>\n    <button mat-icon-button (click)=\"emitNextMatched()\">\n      <mat-icon class=\"\">\n        expand_more\n      </mat-icon>\n    </button>\n  </div>\n</mat-card>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\n\n@Component({\n  selector: 'ng-filter',\n  templateUrl: './filter.component.html',\n  styleUrls: ['./filter.component.scss'],\n})\nexport class FilterComponent {\n  @Output() filter: EventEmitter<string> = new EventEmitter<string>();\n  @Output() nextMatched: EventEmitter<void> = new EventEmitter();\n  @Output() prevMatched: EventEmitter<void> = new EventEmitter();\n\n  @Input() hasMatched = false;\n\n  emitFilter(event: InputEvent): void {\n    this.filter.emit((event.target as HTMLInputElement).value);\n  }\n\n  emitNextMatched(): void {\n    this.nextMatched.emit();\n  }\n\n  emitPrevMatched(): void {\n    this.prevMatched.emit();\n  }\n}\n","<ng-filter\n  [hasMatched]=\"hasMatched\"\n  (filter)=\"handleFilter($event)\"\n  (nextMatched)=\"nextMatched()\"\n  (prevMatched)=\"prevMatched()\"\n>\n</ng-filter>\n<cdk-virtual-scroll-viewport class=\"tree-wrapper\" [itemSize]=\"itemHeight\">\n  <ng-container *cdkVirtualFor=\"let node of dataSource; let idx = index\">\n    <div\n      [ngClass]=\"{\n        matched: isMatched(node),\n        selected: isSelected(node),\n        highlighted: isHighlighted(node),\n        'new-node': node.newItem\n      }\"\n      class=\"tree-node\"\n      (click)=\"selectAndEnsureVisible(node)\"\n      (dblclick)=\"handleSelectDomElement(node)\"\n      (mouseenter)=\"highlightNode(node.position)\"\n      (mouseleave)=\"removeHighlight()\"\n      [style.padding-left]=\"15 + 15 * node.level + 'px'\"\n    >\n      <button\n        [style.left]=\"15 * node.level + 'px'\"\n        *ngIf=\"node.expandable\"\n        (click)=\"treeControl.toggle(node)\"\n        [attr.aria-label]=\"'toggle ' + node.name\"\n      >\n        <mat-icon class=\"mat-icon-rtl-mirror\">\n          {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}\n        </mat-icon>\n      </button>\n      <span class=\"element-name\" [class.angular-element]=\"isElement(node)\">{{ node.name }}</span>\n      <span *ngIf=\"node.directives\" class=\"dir-names\">[{{ node.directives }}]</span>\n      <span class=\"console-reference\" *ngIf=\"isSelected(node)\"> == $ng0 </span>\n    </div>\n  </ng-container>\n</cdk-virtual-scroll-viewport>\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnInit,\n  Output,\n  ViewChild,\n  OnDestroy,\n} from '@angular/core';\nimport { DevToolsNode, ElementPosition, Events, MessageBus } from 'protocol';\nimport { FlatTreeControl } from '@angular/cdk/tree';\nimport { ComponentDataSource, FlatNode } from './component-data-source';\nimport { isChildOf, parentCollapsed } from './directive-forest-utils';\nimport { IndexedNode } from './index-forest';\nimport { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\nimport { TabUpdate } from '../../tab-update';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'ng-directive-forest',\n  templateUrl: './directive-forest.component.html',\n  styleUrls: ['./directive-forest.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class DirectiveForestComponent implements OnInit, OnDestroy {\n  @Input() set forest(forest: DevToolsNode[]) {\n    const result = this._updateForest(forest);\n    const changed = result.movedItems.length || result.newItems.length || result.removedItems.length;\n    if (this.currentSelectedElement && changed) {\n      this._reselectNodeOnUpdate();\n    }\n  }\n  @Input() currentSelectedElement: IndexedNode;\n\n  @Output() selectNode = new EventEmitter<IndexedNode | null>();\n  @Output() selectDomElement = new EventEmitter<IndexedNode>();\n  @Output() setParents = new EventEmitter<FlatNode[] | null>();\n  @Output() highlightComponent = new EventEmitter<ElementPosition>();\n  @Output() removeComponentHighlight = new EventEmitter<void>();\n  @Output() toggleInspector = new EventEmitter<void>();\n\n  @ViewChild(CdkVirtualScrollViewport) viewport: CdkVirtualScrollViewport;\n\n  filterRegex = new RegExp('.^');\n  currentlyMatchedIndex = -1;\n\n  selectedNode: FlatNode | null = null;\n  parents: FlatNode[];\n\n  private _highlightIDinTreeFromElement: number | null = null;\n  private _tabUpdateSubscription: Subscription;\n\n  set highlightIDinTreeFromElement(id: number | null) {\n    this._highlightIDinTreeFromElement = id;\n    this._cdr.markForCheck();\n  }\n\n  readonly treeControl = new FlatTreeControl<FlatNode>(\n    (node) => node.level,\n    (node) => node.expandable\n  );\n  readonly dataSource = new ComponentDataSource(this.treeControl);\n  readonly itemHeight = 18;\n\n  private _initialized = false;\n\n  constructor(\n    private _tabUpdate: TabUpdate,\n    private _messageBus: MessageBus<Events>,\n    private _cdr: ChangeDetectorRef\n  ) {}\n\n  ngOnInit(): void {\n    this.subscribeToInspectorEvents();\n    this._tabUpdateSubscription = this._tabUpdate.tabUpdate$.subscribe(() => {\n      if (this.viewport) {\n        setTimeout(() => {\n          this.viewport.scrollToIndex(0);\n          this.viewport.checkViewportSize();\n        });\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    if (this._tabUpdateSubscription) {\n      this._tabUpdateSubscription.unsubscribe();\n    }\n  }\n\n  subscribeToInspectorEvents(): void {\n    this._messageBus.on('selectComponent', (id: number) => {\n      this.selectNodeByComponentId(id);\n      this.toggleInspector.emit();\n    });\n\n    this._messageBus.on('highlightComponent', (id: number) => {\n      this.highlightIDinTreeFromElement = id;\n    });\n\n    this._messageBus.on('removeComponentHighlight', () => {\n      this.highlightIDinTreeFromElement = null;\n    });\n  }\n\n  selectNodeByComponentId(id: number): void {\n    const foundNode = this.dataSource.data.find((node) => node.original.component?.id === id);\n    if (foundNode) {\n      this.handleSelect(foundNode);\n    }\n  }\n\n  handleSelect(node: FlatNode): void {\n    this.currentlyMatchedIndex = this.dataSource.data.findIndex((matchedNode) => matchedNode.id === node.id);\n    this.selectAndEnsureVisible(node);\n  }\n\n  handleSelectDomElement(node: FlatNode): void {\n    this.selectDomElement.emit(node.original);\n  }\n\n  selectAndEnsureVisible(node: FlatNode): void {\n    this.select(node);\n\n    const scrollParent = this.viewport.elementRef.nativeElement;\n    // The top most point we see an element\n    const top = scrollParent.scrollTop;\n    // That's the bottom most point we currently see an element.\n    const parentHeight = scrollParent.offsetHeight;\n    const bottom = top + parentHeight;\n    const idx = this.dataSource.expandedDataValues.findIndex((el) => el.id === node.id);\n    // The node might be hidden.\n    if (idx < 0) {\n      return;\n    }\n    const itemTop = idx * this.itemHeight;\n    if (itemTop < top) {\n      scrollParent.scrollTo({ top: itemTop });\n    } else if (bottom < itemTop + this.itemHeight) {\n      scrollParent.scrollTo({ top: itemTop - parentHeight + this.itemHeight });\n    }\n  }\n\n  select(node: FlatNode): void {\n    this.populateParents(node.position);\n    this.selectNode.emit(node.original);\n    this.selectedNode = node;\n  }\n\n  clearSelectedNode(): void {\n    this.selectNode.emit(null);\n    this.selectedNode = null;\n    this.parents = [];\n    this.setParents.emit(null);\n  }\n\n  private _reselectNodeOnUpdate(): void {\n    const nodeThatStillExists = this.dataSource.getFlatNodeFromIndexedNode(this.currentSelectedElement);\n    if (nodeThatStillExists) {\n      this.select(nodeThatStillExists);\n    } else {\n      this.clearSelectedNode();\n    }\n  }\n\n  private _updateForest(\n    forest: DevToolsNode[]\n  ): { newItems: FlatNode[]; movedItems: FlatNode[]; removedItems: FlatNode[] } {\n    const result = this.dataSource.update(forest);\n    if (!this._initialized && forest && forest.length) {\n      this.treeControl.expandAll();\n      this._initialized = true;\n      result.newItems.forEach((item) => (item.newItem = false));\n    }\n    // We want to expand them once they are rendered.\n    result.newItems.forEach((item) => {\n      this.treeControl.expand(item);\n    });\n    return result;\n  }\n\n  populateParents(position: ElementPosition): void {\n    this.parents = position.reduce((nodes: FlatNode[], index: number) => {\n      let nodePosition = [index];\n      if (nodes.length > 0) {\n        nodePosition = nodes[nodes.length - 1].position.concat(index);\n      }\n      // It's possible selectedNode to be undefined\n      // In this case, we don't want to push it to the list\n      // of parent nodes. Instead, we want to report a warning.\n      const selectedNode = this.dataSource.data.find((item) => item.position.toString() === nodePosition.toString());\n      if (selectedNode) {\n        nodes.push(selectedNode);\n      } else {\n        console.warn('Cant find node for position', nodePosition);\n      }\n      return nodes;\n    }, []);\n    this.setParents.emit(this.parents);\n  }\n\n  @HostListener('document:keydown.ArrowUp', ['$event'])\n  navigateUp(event: KeyboardEvent): void {\n    if (this.isEditingDirectiveState(event)) {\n      return;\n    }\n    event.preventDefault();\n\n    const data = this.dataSource.expandedDataValues;\n    let prevIdx = data.findIndex((e) => this.selectedNode && e.id === this.selectedNode.id) - 1;\n    if (prevIdx < 0) {\n      return;\n    }\n    let prevNode = data[prevIdx];\n    const currentNode = data[prevIdx + 1];\n    if (prevNode.position.length <= currentNode.position.length) {\n      return this.selectAndEnsureVisible(data[prevIdx]);\n    }\n    while (prevIdx >= 0 && parentCollapsed(prevIdx, data, this.treeControl)) {\n      prevIdx--;\n      prevNode = data[prevIdx];\n    }\n    this.selectAndEnsureVisible(data[prevIdx]);\n  }\n\n  @HostListener('document:keydown.ArrowDown', ['$event'])\n  navigateDown(event: KeyboardEvent): void {\n    if (this.isEditingDirectiveState(event)) {\n      return;\n    }\n    event.preventDefault();\n\n    const data = this.dataSource.expandedDataValues;\n    let idx = data.findIndex((e) => this.selectedNode && e.id === this.selectedNode.id);\n    const currentNode = data[idx];\n    if (!this.treeControl.isExpanded(currentNode) && currentNode.expandable) {\n      for (let i = idx + 1; i < data.length; i++) {\n        const node = data[i];\n        if (!isChildOf(node.position, currentNode.position)) {\n          idx = i;\n          break;\n        }\n      }\n    } else {\n      idx++;\n    }\n    if (idx >= data.length) {\n      return;\n    }\n    this.selectAndEnsureVisible(data[idx]);\n  }\n\n  @HostListener('document:keydown.ArrowLeft', ['$event'])\n  collapseCurrent(event: KeyboardEvent): void {\n    if (this.isEditingDirectiveState(event)) {\n      return;\n    }\n    if (!this.selectedNode) {\n      return;\n    }\n    this.treeControl.collapse(this.selectedNode);\n    event.preventDefault();\n  }\n\n  @HostListener('document:keydown.ArrowRight', ['$event'])\n  expandCurrent(event: KeyboardEvent): void {\n    if (this.isEditingDirectiveState(event)) {\n      return;\n    }\n    if (!this.selectedNode) {\n      return;\n    }\n    this.treeControl.expand(this.selectedNode);\n    event.preventDefault();\n  }\n\n  isEditingDirectiveState(event: KeyboardEvent): boolean {\n    return (event.target as Element).tagName === 'INPUT' || !this.selectedNode;\n  }\n\n  isSelected(node: FlatNode): boolean {\n    return !!this.selectedNode && this.selectedNode.id === node.id;\n  }\n\n  isMatched(node: FlatNode): boolean {\n    return this.filterRegex.test(node.name.toLowerCase()) || this.filterRegex.test(node.directives.toLowerCase());\n  }\n\n  handleFilter(filterText: string): void {\n    this.currentlyMatchedIndex = -1;\n\n    try {\n      this.filterRegex = new RegExp(filterText.toLowerCase() || '.^');\n    } catch {\n      this.filterRegex = new RegExp('.^');\n    }\n  }\n\n  private _findMatchedNodes(): number[] {\n    const indexesOfMatchedNodes: number[] = [];\n    for (let i = 0; i < this.dataSource.data.length; i++) {\n      if (this.isMatched(this.dataSource.data[i])) {\n        indexesOfMatchedNodes.push(i);\n      }\n    }\n    return indexesOfMatchedNodes;\n  }\n\n  get hasMatched(): boolean {\n    return this._findMatchedNodes().length > 0;\n  }\n\n  nextMatched(): void {\n    const indexesOfMatchedNodes = this._findMatchedNodes();\n    this.currentlyMatchedIndex = (this.currentlyMatchedIndex + 1) % indexesOfMatchedNodes.length;\n    const indexToSelect = indexesOfMatchedNodes[this.currentlyMatchedIndex];\n    const nodeToSelect = this.dataSource.data[indexToSelect];\n    if (indexToSelect !== undefined) {\n      this.treeControl.expand(nodeToSelect);\n      this.selectAndEnsureVisible(nodeToSelect);\n    }\n    const nodeIsVisible = this.dataSource.expandedDataValues.find((node) => node === nodeToSelect);\n    if (!nodeIsVisible) {\n      this.parents.forEach((parent) => this.treeControl.expand(parent));\n    }\n  }\n\n  prevMatched(): void {\n    const indexesOfMatchedNodes = this._findMatchedNodes();\n    this.currentlyMatchedIndex =\n      (this.currentlyMatchedIndex - 1 + indexesOfMatchedNodes.length) % indexesOfMatchedNodes.length;\n    const indexToSelect = indexesOfMatchedNodes[this.currentlyMatchedIndex];\n    const nodeToSelect = this.dataSource.data[indexToSelect];\n    if (indexToSelect !== undefined) {\n      this.treeControl.expand(nodeToSelect);\n      this.selectAndEnsureVisible(nodeToSelect);\n    }\n    const nodeIsVisible = this.dataSource.expandedDataValues.find((node) => node === nodeToSelect);\n    if (!nodeIsVisible) {\n      this.parents.forEach((parent) => this.treeControl.expand(parent));\n    }\n  }\n\n  highlightNode(position: ElementPosition): void {\n    this._highlightIDinTreeFromElement = null;\n    this.highlightComponent.emit(position);\n  }\n\n  removeHighlight(): void {\n    this.removeComponentHighlight.emit();\n  }\n\n  isHighlighted(node: FlatNode): boolean {\n    return !!this._highlightIDinTreeFromElement && this._highlightIDinTreeFromElement === node.original.component?.id;\n  }\n\n  isElement(node: FlatNode): boolean | null {\n    return node.original.component && node.original.component.isElement;\n  }\n}\n","<mat-card class=\"breadcrumb-card\">\n  <button class=\"scroll-button\" [class.hidden]=\"!showScrollLeftButton\" (click)=\"scroll(-100)\">\n    <mat-icon>\n      more_horiz\n    </mat-icon>\n  </button>\n\n  <div class=\"breadcrumbs\" #breadcrumbs (scroll)=\"updateScrollButtonVisibility$.next()\">\n    <button\n      *ngFor=\"let node of parents; let last = last\"\n      (mouseover)=\"mouseOverNode.emit(node)\"\n      (mouseleave)=\"mouseLeaveNode.emit(node)\"\n      mat-button\n      color=\"primary\"\n      (click)=\"handleSelect.emit(node)\"\n      [class.selected]=\"last\"\n    >\n      {{ node.original.component?.name || node.original.element }}\n    </button>\n  </div>\n\n  <button class=\"scroll-button\" [class.hidden]=\"!showScrollRightButton\" (click)=\"scroll(100)\">\n    <mat-icon>\n      more_horiz\n    </mat-icon>\n  </button>\n</mat-card>\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { FlatNode } from '../directive-forest/component-data-source';\n\n@Component({\n  selector: 'ng-breadcrumbs',\n  templateUrl: './breadcrumbs.component.html',\n  styleUrls: ['./breadcrumbs.component.scss'],\n})\nexport class BreadcrumbsComponent implements OnInit, AfterViewInit, OnChanges {\n  @Input() parents: FlatNode[];\n  @Output() handleSelect = new EventEmitter();\n  @Output() mouseOverNode = new EventEmitter();\n  @Output() mouseLeaveNode = new EventEmitter();\n\n  @ViewChild('breadcrumbs') breadcrumbsScrollContent: ElementRef;\n\n  showScrollLeftButton = false;\n  showScrollRightButton = false;\n\n  updateScrollButtonVisibility$ = new Subject<void>();\n\n  ngOnInit(): void {\n    this.updateScrollButtonVisibility$.pipe(debounceTime(100)).subscribe(() => this.updateScrollButtonVisibility());\n  }\n\n  ngAfterViewInit(): void {\n    this.updateScrollButtonVisibility$.next();\n  }\n\n  ngOnChanges(): void {\n    this.updateScrollButtonVisibility$.next();\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(): void {\n    this.updateScrollButtonVisibility$.next();\n  }\n\n  scroll(pixels: number): void {\n    this.breadcrumbsScrollContent.nativeElement.scrollLeft += pixels;\n    this.updateScrollButtonVisibility$.next();\n  }\n\n  updateScrollButtonVisibility(): void {\n    const { clientWidth, scrollWidth, scrollLeft } = this.breadcrumbsScrollContent.nativeElement;\n    this.showScrollLeftButton = scrollLeft > 0;\n    this.showScrollRightButton = scrollLeft + clientWidth < scrollWidth;\n  }\n}\n","// tslint:disable\nimport { ElementRef } from '@angular/core';\n\nimport { IArea, IPoint, IAreaSnapshot, ISplitSideAbsorptionCapacity, IAreaAbsorptionCapacity } from './interface';\n\nexport function getPointFromEvent(event: MouseEvent | TouchEvent): IPoint | null {\n  // TouchEvent\n  if ((<TouchEvent>event).changedTouches !== undefined && (<TouchEvent>event).changedTouches.length > 0) {\n    return {\n      x: (<TouchEvent>event).changedTouches[0].clientX,\n      y: (<TouchEvent>event).changedTouches[0].clientY,\n    };\n  }\n  // MouseEvent\n  else if ((<MouseEvent>event).clientX !== undefined && (<MouseEvent>event).clientY !== undefined) {\n    return {\n      x: (<MouseEvent>event).clientX,\n      y: (<MouseEvent>event).clientY,\n    };\n  }\n  return null;\n}\n\nexport function getElementPixelSize(elRef: ElementRef, direction: 'horizontal' | 'vertical'): number {\n  const rect = (<HTMLElement>elRef.nativeElement).getBoundingClientRect();\n\n  return direction === 'horizontal' ? rect.width : rect.height;\n}\n\nexport function getInputBoolean(v: any): boolean {\n  return typeof v === 'boolean' ? v : v === 'false' ? false : true;\n}\n\nexport function getInputPositiveNumber<T>(v: any, defaultValue: T): number | T {\n  if (v === null || v === undefined) return defaultValue;\n\n  v = Number(v);\n  return !isNaN(v) && v >= 0 ? v : defaultValue;\n}\n\nexport function isUserSizesValid(unit: 'percent' | 'pixel', sizes: Array<number | null>): boolean | undefined {\n  // All sizes have to be not null and total should be 100\n  if (unit === 'percent') {\n    const total = sizes.reduce((total, s) => (s !== null ? total! + s : total), 0);\n    return sizes.every((s) => s !== null) && total! > 99.9 && total! < 100.1;\n  }\n\n  // A size at null is mandatory but only one.\n  if (unit === 'pixel') {\n    return sizes.filter((s) => s === null).length === 1;\n  }\n}\n\nexport function getAreaMinSize(a: IArea): null | number {\n  if (a.size === null) {\n    return null;\n  }\n\n  if (a.component.lockSize === true) {\n    return a.size;\n  }\n\n  if (a.component.minSize === null) {\n    return null;\n  }\n\n  if (a.component.minSize > a.size) {\n    return a.size;\n  }\n\n  return a.component.minSize;\n}\n\nexport function getAreaMaxSize(a: IArea): null | number {\n  if (a.size === null) {\n    return null;\n  }\n\n  if (a.component.lockSize === true) {\n    return a.size;\n  }\n\n  if (a.component.maxSize === null) {\n    return null;\n  }\n\n  if (a.component.maxSize < a.size) {\n    return a.size;\n  }\n\n  return a.component.maxSize;\n}\n\nexport function getGutterSideAbsorptionCapacity(\n  unit: 'percent' | 'pixel',\n  sideAreas: Array<IAreaSnapshot>,\n  pixels: number,\n  allAreasSizePixel: number\n): ISplitSideAbsorptionCapacity {\n  return sideAreas.reduce(\n    (acc, area) => {\n      const res = getAreaAbsorptionCapacity(unit, area, acc.remain, allAreasSizePixel);\n      (acc.list as any).push(res);\n      acc.remain = res!.pixelRemain;\n      return acc;\n    },\n    { remain: pixels, list: [] }\n  );\n}\n\nfunction getAreaAbsorptionCapacity(\n  unit: 'percent' | 'pixel',\n  areaSnapshot: IAreaSnapshot,\n  pixels: number,\n  allAreasSizePixel: number\n): IAreaAbsorptionCapacity | undefined {\n  // No pain no gain\n  if (pixels === 0) {\n    return {\n      areaSnapshot,\n      pixelAbsorb: 0,\n      percentAfterAbsorption: areaSnapshot.sizePercentAtStart,\n      pixelRemain: 0,\n    };\n  }\n\n  // Area start at zero and need to be reduced, not possible\n  if (areaSnapshot.sizePixelAtStart === 0 && pixels < 0) {\n    return {\n      areaSnapshot,\n      pixelAbsorb: 0,\n      percentAfterAbsorption: 0,\n      pixelRemain: pixels,\n    };\n  }\n\n  if (unit === 'percent') {\n    return getAreaAbsorptionCapacityPercent(areaSnapshot, pixels, allAreasSizePixel);\n  }\n\n  if (unit === 'pixel') {\n    return getAreaAbsorptionCapacityPixel(areaSnapshot, pixels, allAreasSizePixel);\n  }\n}\n\nfunction getAreaAbsorptionCapacityPercent(\n  areaSnapshot: IAreaSnapshot,\n  pixels: number,\n  allAreasSizePixel: number\n): IAreaAbsorptionCapacity | undefined {\n  const tempPixelSize = areaSnapshot.sizePixelAtStart + pixels;\n  const tempPercentSize = (tempPixelSize / allAreasSizePixel) * 100;\n\n  // ENLARGE AREA\n\n  if (pixels > 0) {\n    // If maxSize & newSize bigger than it > absorb to max and return remaining pixels\n    if (areaSnapshot.area.maxSize !== null && tempPercentSize > areaSnapshot.area.maxSize) {\n      // Use area.area.maxSize as newPercentSize and return calculate pixels remaining\n      const maxSizePixel = (areaSnapshot.area.maxSize / 100) * allAreasSizePixel;\n      return {\n        areaSnapshot,\n        pixelAbsorb: maxSizePixel,\n        percentAfterAbsorption: areaSnapshot.area.maxSize,\n        pixelRemain: areaSnapshot.sizePixelAtStart + pixels - maxSizePixel,\n      };\n    }\n    return {\n      areaSnapshot,\n      pixelAbsorb: pixels,\n      percentAfterAbsorption: tempPercentSize > 100 ? 100 : tempPercentSize,\n      pixelRemain: 0,\n    };\n  }\n\n  // REDUCE AREA\n  else if (pixels < 0) {\n    // If minSize & newSize smaller than it > absorb to min and return remaining pixels\n    if (areaSnapshot.area.minSize !== null && tempPercentSize < areaSnapshot.area.minSize) {\n      // Use area.area.minSize as newPercentSize and return calculate pixels remaining\n      const minSizePixel = (areaSnapshot.area.minSize / 100) * allAreasSizePixel;\n      return {\n        areaSnapshot,\n        pixelAbsorb: minSizePixel,\n        percentAfterAbsorption: areaSnapshot.area.minSize,\n        pixelRemain: areaSnapshot.sizePixelAtStart + pixels - minSizePixel,\n      };\n    }\n    // If reduced under zero > return remaining pixels\n    else if (tempPercentSize < 0) {\n      // Use 0 as newPercentSize and return calculate pixels remaining\n      return {\n        areaSnapshot,\n        pixelAbsorb: -areaSnapshot.sizePixelAtStart,\n        percentAfterAbsorption: 0,\n        pixelRemain: pixels + areaSnapshot.sizePixelAtStart,\n      };\n    }\n    return {\n      areaSnapshot,\n      pixelAbsorb: pixels,\n      percentAfterAbsorption: tempPercentSize,\n      pixelRemain: 0,\n    };\n  }\n}\n\nfunction getAreaAbsorptionCapacityPixel(\n  areaSnapshot: IAreaSnapshot,\n  pixels: number,\n  containerSizePixel: number\n): IAreaAbsorptionCapacity | undefined {\n  const tempPixelSize = areaSnapshot.sizePixelAtStart + pixels;\n\n  // ENLARGE AREA\n\n  if (pixels > 0) {\n    // If maxSize & newSize bigger than it > absorb to max and return remaining pixels\n    if (areaSnapshot.area.maxSize !== null && tempPixelSize > areaSnapshot.area.maxSize) {\n      return {\n        areaSnapshot,\n        pixelAbsorb: areaSnapshot.area.maxSize - areaSnapshot.sizePixelAtStart,\n        percentAfterAbsorption: -1,\n        pixelRemain: tempPixelSize - areaSnapshot.area.maxSize,\n      };\n    }\n    return {\n      areaSnapshot,\n      pixelAbsorb: pixels,\n      percentAfterAbsorption: -1,\n      pixelRemain: 0,\n    };\n  }\n\n  // REDUCE AREA\n  else if (pixels < 0) {\n    // If minSize & newSize smaller than it > absorb to min and return remaining pixels\n    if (areaSnapshot.area.minSize !== null && tempPixelSize < areaSnapshot.area.minSize) {\n      return {\n        areaSnapshot,\n        pixelAbsorb: areaSnapshot.area.minSize + pixels - tempPixelSize,\n        percentAfterAbsorption: -1,\n        pixelRemain: tempPixelSize - areaSnapshot.area.minSize,\n      };\n    }\n    // If reduced under zero > return remaining pixels\n    else if (tempPixelSize < 0) {\n      return {\n        areaSnapshot,\n        pixelAbsorb: -areaSnapshot.sizePixelAtStart,\n        percentAfterAbsorption: -1,\n        pixelRemain: pixels + areaSnapshot.sizePixelAtStart,\n      };\n    }\n    return {\n      areaSnapshot,\n      pixelAbsorb: pixels,\n      percentAfterAbsorption: -1,\n      pixelRemain: 0,\n    };\n  }\n}\n\nexport function updateAreaSize(unit: 'percent' | 'pixel', item: IAreaAbsorptionCapacity) {\n  if (unit === 'percent') {\n    item.areaSnapshot.area.size = item.percentAfterAbsorption;\n  } else if (unit === 'pixel') {\n    // Update size except for the wildcard size area\n    if (item.areaSnapshot.area.size !== null) {\n      item.areaSnapshot.area.size = item.areaSnapshot.sizePixelAtStart + item.pixelAbsorb;\n    }\n  }\n}\n","// tslint:disable\nimport {\n  Component,\n  Input,\n  Output,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Renderer2,\n  AfterViewInit,\n  OnDestroy,\n  ElementRef,\n  NgZone,\n  ViewChildren,\n  QueryList,\n  EventEmitter,\n} from '@angular/core';\nimport { Observable, Subscriber, Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\nimport { IArea, IPoint, ISplitSnapshot, IAreaSnapshot, IOutputData, IOutputAreaSizes } from '../interface';\nimport { SplitAreaDirective } from '../directive/splitArea.directive';\nimport {\n  getInputPositiveNumber,\n  getInputBoolean,\n  isUserSizesValid,\n  getAreaMinSize,\n  getAreaMaxSize,\n  getPointFromEvent,\n  getElementPixelSize,\n  getGutterSideAbsorptionCapacity,\n  updateAreaSize,\n} from '../utils';\n\n/**\n * angular-split\n *\n *\n *  PERCENT MODE ([unit]=\"'percent'\")\n *  ___________________________________________________________________________________________\n * |       A       [g1]       B       [g2]       C       [g3]       D       [g4]       E       |\n * |-------------------------------------------------------------------------------------------|\n * |       20                 30                 20                 15                 15      | <-- [size]=\"x\"\n * |               10px               10px               10px               10px               | <-- [gutterSize]=\"10\"\n * |calc(20% - 8px)    calc(30% - 12px)   calc(20% - 8px)    calc(15% - 6px)    calc(15% - 6px)| <-- CSS flex-basis property (with flex-grow&shrink at 0)\n * |     152px              228px              152px              114px              114px     | <-- el.getBoundingClientRect().width\n * |___________________________________________________________________________________________|\n *                                                                                 800px         <-- el.getBoundingClientRect().width\n *  flex-basis = calc( { area.size }% - { area.size/100 * nbGutter*gutterSize }px );\n *\n *\n *  PIXEL MODE ([unit]=\"'pixel'\")\n *  ___________________________________________________________________________________________\n * |       A       [g1]       B       [g2]       C       [g3]       D       [g4]       E       |\n * |-------------------------------------------------------------------------------------------|\n * |      100                250                 *                 150                100      | <-- [size]=\"y\"\n * |               10px               10px               10px               10px               | <-- [gutterSize]=\"10\"\n * |   0 0 100px          0 0 250px           1 1 auto          0 0 150px          0 0 100px   | <-- CSS flex property (flex-grow/flex-shrink/flex-basis)\n * |     100px              250px              200px              150px              100px     | <-- el.getBoundingClientRect().width\n * |___________________________________________________________________________________________|\n *                                                                                 800px         <-- el.getBoundingClientRect().width\n *\n */\n\n@Component({\n  selector: 'as-split',\n  exportAs: 'asSplit',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styleUrls: [`./split.component.scss`],\n  template: ` <ng-content></ng-content>\n    <ng-template ngFor [ngForOf]=\"displayedAreas\" let-index=\"index\" let-last=\"last\">\n      <div\n        *ngIf=\"last === false\"\n        #gutterEls\n        class=\"as-split-gutter\"\n        [style.flex-basis.px]=\"gutterSize\"\n        [style.order]=\"index * 2 + 1\"\n        (mousedown)=\"startDragging($event, index * 2 + 1, index + 1)\"\n        (touchstart)=\"startDragging($event, index * 2 + 1, index + 1)\"\n        (mouseup)=\"clickGutter($event, index + 1)\"\n        (touchend)=\"clickGutter($event, index + 1)\"\n      >\n        <div class=\"as-split-gutter-icon\"></div>\n      </div>\n    </ng-template>`,\n})\nexport class SplitComponent implements AfterViewInit, OnDestroy {\n  private _direction: 'horizontal' | 'vertical' = 'horizontal';\n\n  @Input() set direction(v: 'horizontal' | 'vertical') {\n    this._direction = v === 'vertical' ? 'vertical' : 'horizontal';\n\n    this.renderer.addClass(this.elRef.nativeElement, `as-${this._direction}`);\n    this.renderer.removeClass(\n      this.elRef.nativeElement,\n      `as-${this._direction === 'vertical' ? 'horizontal' : 'vertical'}`\n    );\n\n    this.build(false, false);\n  }\n\n  get direction(): 'horizontal' | 'vertical' {\n    return this._direction;\n  }\n\n  ////\n\n  private _unit: 'percent' | 'pixel' = 'percent';\n\n  @Input() set unit(v: 'percent' | 'pixel') {\n    this._unit = v === 'pixel' ? 'pixel' : 'percent';\n\n    this.renderer.addClass(this.elRef.nativeElement, `as-${this._unit}`);\n    this.renderer.removeClass(this.elRef.nativeElement, `as-${this._unit === 'pixel' ? 'percent' : 'pixel'}`);\n\n    this.build(false, true);\n  }\n\n  get unit(): 'percent' | 'pixel' {\n    return this._unit;\n  }\n\n  ////\n\n  private _gutterSize: number = 11;\n\n  @Input() set gutterSize(v: number | null) {\n    this._gutterSize = getInputPositiveNumber(v, 11);\n\n    this.build(false, false);\n  }\n\n  get gutterSize(): number | null {\n    return this._gutterSize;\n  }\n\n  ////\n\n  private _gutterStep: number = 1;\n\n  @Input() set gutterStep(v: number) {\n    this._gutterStep = getInputPositiveNumber(v, 1);\n  }\n\n  get gutterStep(): number {\n    return this._gutterStep;\n  }\n\n  ////\n\n  private _restrictMove: boolean = false;\n\n  @Input() set restrictMove(v: boolean) {\n    this._restrictMove = getInputBoolean(v);\n  }\n\n  get restrictMove(): boolean {\n    return this._restrictMove;\n  }\n\n  ////\n\n  private _useTransition: boolean = false;\n\n  @Input() set useTransition(v: boolean) {\n    this._useTransition = getInputBoolean(v);\n\n    if (this._useTransition) this.renderer.addClass(this.elRef.nativeElement, 'as-transition');\n    else this.renderer.removeClass(this.elRef.nativeElement, 'as-transition');\n  }\n\n  get useTransition(): boolean {\n    return this._useTransition;\n  }\n\n  ////\n\n  private _disabled: boolean = false;\n\n  @Input() set disabled(v: boolean) {\n    this._disabled = getInputBoolean(v);\n\n    if (this._disabled) this.renderer.addClass(this.elRef.nativeElement, 'as-disabled');\n    else this.renderer.removeClass(this.elRef.nativeElement, 'as-disabled');\n  }\n\n  get disabled(): boolean {\n    return this._disabled;\n  }\n\n  ////\n\n  private _dir: 'ltr' | 'rtl' = 'ltr';\n\n  @Input() set dir(v: 'ltr' | 'rtl') {\n    this._dir = v === 'rtl' ? 'rtl' : 'ltr';\n\n    this.renderer.setAttribute(this.elRef.nativeElement, 'dir', this._dir);\n  }\n\n  get dir(): 'ltr' | 'rtl' {\n    return this._dir;\n  }\n\n  ////\n\n  private _gutterDblClickDuration: number = 0;\n\n  @Input() set gutterDblClickDuration(v: number) {\n    this._gutterDblClickDuration = getInputPositiveNumber(v, 0);\n  }\n\n  get gutterDblClickDuration(): number {\n    return this._gutterDblClickDuration;\n  }\n\n  ////\n\n  @Output() dragStart = new EventEmitter<IOutputData>(false);\n  @Output() dragEnd = new EventEmitter<IOutputData>(false);\n  @Output() gutterClick = new EventEmitter<IOutputData>(false);\n  @Output() gutterDblClick = new EventEmitter<IOutputData>(false);\n\n  private transitionEndSubscriber: Subscriber<IOutputAreaSizes>;\n  @Output() get transitionEnd(): Observable<IOutputAreaSizes> {\n    return new Observable((subscriber) => (this.transitionEndSubscriber = subscriber)).pipe(\n      debounceTime<IOutputAreaSizes>(20)\n    );\n  }\n\n  private dragProgressSubject: Subject<IOutputData> = new Subject();\n  dragProgress$: Observable<IOutputData> = this.dragProgressSubject.asObservable();\n\n  ////\n\n  private isDragging: boolean = false;\n  private dragListeners: Array<Function> = [];\n  private snapshot: ISplitSnapshot | null = null;\n  private startPoint: IPoint | null = null;\n  private endPoint: IPoint | null = null;\n\n  public readonly displayedAreas: Array<IArea> = [];\n  private readonly hidedAreas: Array<IArea> = [];\n\n  @ViewChildren('gutterEls') private gutterEls: QueryList<ElementRef>;\n\n  constructor(\n    private ngZone: NgZone,\n    private elRef: ElementRef,\n    private cdRef: ChangeDetectorRef,\n    private renderer: Renderer2\n  ) {\n    // To force adding default class, could be override by user @Input() or not\n    this.direction = this._direction;\n  }\n\n  public ngAfterViewInit() {\n    this.ngZone.runOutsideAngular(() => {\n      // To avoid transition at first rendering\n      setTimeout(() => this.renderer.addClass(this.elRef.nativeElement, 'as-init'));\n    });\n  }\n\n  private getNbGutters(): number {\n    return this.displayedAreas.length === 0 ? 0 : this.displayedAreas.length - 1;\n  }\n\n  public addArea(component: SplitAreaDirective): void {\n    const newArea: IArea = {\n      component,\n      order: 0,\n      size: 0,\n      minSize: null,\n      maxSize: null,\n    };\n\n    if (component.visible === true) {\n      this.displayedAreas.push(newArea);\n\n      this.build(true, true);\n    } else {\n      this.hidedAreas.push(newArea);\n    }\n  }\n\n  public removeArea(component: SplitAreaDirective): void {\n    if (this.displayedAreas.some((a) => a.component === component)) {\n      const area = this.displayedAreas.find((a) => a.component === component);\n      this.displayedAreas.splice(this.displayedAreas.indexOf(area!), 1);\n\n      this.build(true, true);\n    } else if (this.hidedAreas.some((a) => a.component === component)) {\n      const area = this.hidedAreas.find((a) => a.component === component);\n      this.hidedAreas.splice(this.hidedAreas.indexOf(area!), 1);\n    }\n  }\n\n  public updateArea(component: SplitAreaDirective, resetOrders: boolean, resetSizes: boolean): void {\n    if (component.visible === true) {\n      this.build(resetOrders, resetSizes);\n    }\n  }\n\n  public showArea(component: SplitAreaDirective): void {\n    const area = this.hidedAreas.find((a) => a.component === component);\n    if (area === undefined) {\n      return;\n    }\n\n    const areas = this.hidedAreas.splice(this.hidedAreas.indexOf(area), 1);\n    this.displayedAreas.push(...areas);\n\n    this.build(true, true);\n  }\n\n  public hideArea(comp: SplitAreaDirective): void {\n    const area = this.displayedAreas.find((a) => a.component === comp);\n    if (area === undefined) {\n      return;\n    }\n\n    const areas = this.displayedAreas.splice(this.displayedAreas.indexOf(area), 1);\n    areas.forEach((area) => {\n      area.order = 0;\n      area.size = 0;\n    });\n    this.hidedAreas.push(...areas);\n\n    this.build(true, true);\n  }\n\n  public getVisibleAreaSizes(): IOutputAreaSizes {\n    return this.displayedAreas.map((a) => (a.size === null ? '*' : a.size));\n  }\n\n  public setVisibleAreaSizes(sizes: IOutputAreaSizes): boolean {\n    if (sizes.length !== this.displayedAreas.length) {\n      return false;\n    }\n\n    const formatedSizes = sizes.map((s) => getInputPositiveNumber(s, null));\n    const isValid = isUserSizesValid(this.unit, formatedSizes);\n\n    if (isValid === false) {\n      return false;\n    }\n\n    // @ts-ignore\n    this.displayedAreas.forEach((area, i) => (area.component._size = formatedSizes[i]));\n\n    this.build(false, true);\n    return true;\n  }\n\n  private build(resetOrders: boolean, resetSizes: boolean): void {\n    this.stopDragging();\n\n    // ¤ AREAS ORDER\n\n    if (resetOrders === true) {\n      // If user provided 'order' for each area, use it to sort them.\n      if (this.displayedAreas.every((a) => a.component.order !== null)) {\n        this.displayedAreas.sort((a, b) => <number>a.component.order - <number>b.component.order);\n      }\n\n      // Then set real order with multiples of 2, numbers between will be used by gutters.\n      this.displayedAreas.forEach((area, i) => {\n        area.order = i * 2;\n        area.component.setStyleOrder(area.order);\n      });\n    }\n\n    // ¤ AREAS SIZE\n\n    if (resetSizes === true) {\n      const useUserSizes = isUserSizesValid(\n        this.unit,\n        this.displayedAreas.map((a) => a.component.size)\n      );\n\n      switch (this.unit) {\n        case 'percent': {\n          const defaultSize = 100 / this.displayedAreas.length;\n\n          this.displayedAreas.forEach((area) => {\n            area.size = useUserSizes ? <number>area.component.size : defaultSize;\n            area.minSize = getAreaMinSize(area);\n            area.maxSize = getAreaMaxSize(area);\n          });\n          break;\n        }\n        case 'pixel': {\n          if (useUserSizes) {\n            this.displayedAreas.forEach((area) => {\n              area.size = area.component.size;\n              area.minSize = getAreaMinSize(area);\n              area.maxSize = getAreaMaxSize(area);\n            });\n          } else {\n            const wildcardSizeAreas = this.displayedAreas.filter((a) => a.component.size === null);\n\n            // No wildcard area > Need to select one arbitrarily > first\n            if (wildcardSizeAreas.length === 0 && this.displayedAreas.length > 0) {\n              this.displayedAreas.forEach((area, i) => {\n                area.size = i === 0 ? null : area.component.size;\n                area.minSize = i === 0 ? null : getAreaMinSize(area);\n                area.maxSize = i === 0 ? null : getAreaMaxSize(area);\n              });\n            }\n            // More than one wildcard area > Need to keep only one arbitrarly > first\n            else if (wildcardSizeAreas.length > 1) {\n              let alreadyGotOne = false;\n              this.displayedAreas.forEach((area) => {\n                if (area.component.size === null) {\n                  if (alreadyGotOne === false) {\n                    area.size = null;\n                    area.minSize = null;\n                    area.maxSize = null;\n                    alreadyGotOne = true;\n                  } else {\n                    area.size = 100;\n                    area.minSize = null;\n                    area.maxSize = null;\n                  }\n                } else {\n                  area.size = area.component.size;\n                  area.minSize = getAreaMinSize(area);\n                  area.maxSize = getAreaMaxSize(area);\n                }\n              });\n            }\n          }\n          break;\n        }\n      }\n    }\n\n    this.refreshStyleSizes();\n    this.cdRef.markForCheck();\n  }\n\n  private refreshStyleSizes(): void {\n    ///////////////////////////////////////////\n    // PERCENT MODE\n    if (this.unit === 'percent') {\n      // Only one area > flex-basis 100%\n      if (this.displayedAreas.length === 1) {\n        this.displayedAreas[0].component.setStyleFlex(0, 0, `100%`, false, false);\n      }\n      // Multiple areas > use each percent basis\n      else {\n        const sumGutterSize = this.getNbGutters() * this.gutterSize!;\n\n        this.displayedAreas.forEach((area) => {\n          area.component.setStyleFlex(\n            0,\n            0,\n            `calc( ${area.size}% - ${(<number>area.size / 100) * sumGutterSize}px )`,\n            area.minSize !== null && area.minSize === area.size ? true : false,\n            area.maxSize !== null && area.maxSize === area.size ? true : false\n          );\n        });\n      }\n    }\n    ///////////////////////////////////////////\n    // PIXEL MODE\n    else if (this.unit === 'pixel') {\n      this.displayedAreas.forEach((area) => {\n        // Area with wildcard size\n        if (area.size === null) {\n          if (this.displayedAreas.length === 1) {\n            area.component.setStyleFlex(1, 1, `100%`, false, false);\n          } else {\n            area.component.setStyleFlex(1, 1, `auto`, false, false);\n          }\n        }\n        // Area with pixel size\n        else {\n          // Only one area > flex-basis 100%\n          if (this.displayedAreas.length === 1) {\n            area.component.setStyleFlex(0, 0, `100%`, false, false);\n          }\n          // Multiple areas > use each pixel basis\n          else {\n            area.component.setStyleFlex(\n              0,\n              0,\n              `${area.size}px`,\n              area.minSize !== null && area.minSize === area.size ? true : false,\n              area.maxSize !== null && area.maxSize === area.size ? true : false\n            );\n          }\n        }\n      });\n    }\n  }\n\n  _clickTimeout: number | null = null;\n\n  public clickGutter(event: MouseEvent | TouchEvent, gutterNum: number): void {\n    const tempPoint = getPointFromEvent(event);\n\n    // Be sure mouseup/touchend happened at same point as mousedown/touchstart to trigger click/dblclick\n    if (this.startPoint && this.startPoint.x === tempPoint!.x && this.startPoint.y === tempPoint!.y) {\n      // If timeout in progress and new click > clearTimeout & dblClickEvent\n      if (this._clickTimeout !== null) {\n        window.clearTimeout(this._clickTimeout);\n        this._clickTimeout = null;\n        this.notify('dblclick', gutterNum);\n        this.stopDragging();\n      }\n      // Else start timeout to call clickEvent at end\n      else {\n        this._clickTimeout = window.setTimeout(() => {\n          this._clickTimeout = null;\n          this.notify('click', gutterNum);\n          this.stopDragging();\n        }, this.gutterDblClickDuration);\n      }\n    }\n  }\n\n  public startDragging(event: MouseEvent | TouchEvent, gutterOrder: number, gutterNum: number): void {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.startPoint = getPointFromEvent(event);\n    if (this.startPoint === null || this.disabled === true) {\n      return;\n    }\n\n    this.snapshot = {\n      gutterNum,\n      lastSteppedOffset: 0,\n      allAreasSizePixel: getElementPixelSize(this.elRef, this.direction) - this.getNbGutters() * this.gutterSize!,\n      allInvolvedAreasSizePercent: 100,\n      areasBeforeGutter: [],\n      areasAfterGutter: [],\n    };\n\n    this.displayedAreas.forEach((area) => {\n      const areaSnapshot: IAreaSnapshot = {\n        area,\n        sizePixelAtStart: getElementPixelSize(area.component.elRef, this.direction),\n        sizePercentAtStart: (this.unit === 'percent' ? area.size : -1) as number, // If pixel mode, anyway, will not be used.\n      };\n\n      if (area.order < gutterOrder) {\n        if (this.restrictMove === true) {\n          this.snapshot!.areasBeforeGutter = [areaSnapshot];\n        } else {\n          this.snapshot!.areasBeforeGutter.unshift(areaSnapshot);\n        }\n      } else if (area.order > gutterOrder) {\n        if (this.restrictMove === true) {\n          if (this.snapshot!.areasAfterGutter.length === 0) this.snapshot!.areasAfterGutter = [areaSnapshot];\n        } else {\n          this.snapshot!.areasAfterGutter.push(areaSnapshot);\n        }\n      }\n    });\n\n    this.snapshot.allInvolvedAreasSizePercent = [\n      ...this.snapshot.areasBeforeGutter,\n      ...this.snapshot.areasAfterGutter,\n    ].reduce((t, a) => t + a.sizePercentAtStart, 0);\n\n    if (this.snapshot.areasBeforeGutter.length === 0 || this.snapshot.areasAfterGutter.length === 0) {\n      return;\n    }\n\n    this.dragListeners.push(this.renderer.listen('document', 'mouseup', this.stopDragging.bind(this)));\n    this.dragListeners.push(this.renderer.listen('document', 'touchend', this.stopDragging.bind(this)));\n    this.dragListeners.push(this.renderer.listen('document', 'touchcancel', this.stopDragging.bind(this)));\n\n    this.ngZone.runOutsideAngular(() => {\n      this.dragListeners.push(this.renderer.listen('document', 'mousemove', this.dragEvent.bind(this)));\n      this.dragListeners.push(this.renderer.listen('document', 'touchmove', this.dragEvent.bind(this)));\n    });\n\n    this.displayedAreas.forEach((area) => area.component.lockEvents());\n\n    this.isDragging = true;\n    this.renderer.addClass(this.elRef.nativeElement, 'as-dragging');\n    this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum - 1].nativeElement, 'as-dragged');\n\n    this.notify('start', this.snapshot.gutterNum);\n  }\n\n  private dragEvent(event: MouseEvent | TouchEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (this._clickTimeout !== null) {\n      window.clearTimeout(this._clickTimeout);\n      this._clickTimeout = null;\n    }\n\n    if (this.isDragging === false) {\n      return;\n    }\n\n    this.endPoint = getPointFromEvent(event);\n    if (this.endPoint === null) {\n      return;\n    }\n\n    // Calculate steppedOffset\n\n    let offset =\n      this.direction === 'horizontal' ? this.startPoint!.x - this.endPoint.x : this.startPoint!.y - this.endPoint.y;\n    if (this.dir === 'rtl') {\n      offset = -offset;\n    }\n    const steppedOffset = Math.round(offset / this.gutterStep) * this.gutterStep;\n\n    if (steppedOffset === this.snapshot!.lastSteppedOffset) {\n      return;\n    }\n\n    this.snapshot!.lastSteppedOffset = steppedOffset;\n\n    // Need to know if each gutter side areas could reacts to steppedOffset\n\n    let areasBefore = getGutterSideAbsorptionCapacity(\n      this.unit,\n      this.snapshot!.areasBeforeGutter,\n      -steppedOffset,\n      this.snapshot!.allAreasSizePixel\n    );\n    let areasAfter = getGutterSideAbsorptionCapacity(\n      this.unit,\n      this.snapshot!.areasAfterGutter,\n      steppedOffset,\n      this.snapshot!.allAreasSizePixel\n    );\n\n    // Each gutter side areas can't absorb all offset\n    if (areasBefore.remain !== 0 && areasAfter.remain !== 0) {\n      if (Math.abs(areasBefore.remain) === Math.abs(areasAfter.remain)) {\n      } else if (Math.abs(areasBefore.remain) > Math.abs(areasAfter.remain)) {\n        areasAfter = getGutterSideAbsorptionCapacity(\n          this.unit,\n          this.snapshot!.areasAfterGutter,\n          steppedOffset + areasBefore.remain,\n          this.snapshot!.allAreasSizePixel\n        );\n      } else {\n        areasBefore = getGutterSideAbsorptionCapacity(\n          this.unit,\n          this.snapshot!.areasBeforeGutter,\n          -(steppedOffset - areasAfter.remain),\n          this.snapshot!.allAreasSizePixel\n        );\n      }\n    }\n    // Areas before gutter can't absorbs all offset > need to recalculate sizes for areas after gutter.\n    else if (areasBefore.remain !== 0) {\n      areasAfter = getGutterSideAbsorptionCapacity(\n        this.unit,\n        this.snapshot!.areasAfterGutter,\n        steppedOffset + areasBefore.remain,\n        this.snapshot!.allAreasSizePixel\n      );\n    }\n    // Areas after gutter can't absorbs all offset > need to recalculate sizes for areas before gutter.\n    else if (areasAfter.remain !== 0) {\n      areasBefore = getGutterSideAbsorptionCapacity(\n        this.unit,\n        this.snapshot!.areasBeforeGutter,\n        -(steppedOffset - areasAfter.remain),\n        this.snapshot!.allAreasSizePixel\n      );\n    }\n\n    if (this.unit === 'percent') {\n      // Hack because of browser messing up with sizes using calc(X% - Ypx) -> el.getBoundingClientRect()\n      // If not there, playing with gutters makes total going down to 99.99875% then 99.99286%, 99.98986%,..\n      const all = [...areasBefore.list, ...areasAfter.list];\n      const areaToReset = all.find(\n        (a) =>\n          a.percentAfterAbsorption !== 0 &&\n          a.percentAfterAbsorption !== a.areaSnapshot.area.minSize &&\n          a.percentAfterAbsorption !== a.areaSnapshot.area.maxSize\n      );\n\n      if (areaToReset) {\n        areaToReset.percentAfterAbsorption =\n          this.snapshot!.allInvolvedAreasSizePercent -\n          all.filter((a) => a !== areaToReset).reduce((total, a) => total + a.percentAfterAbsorption, 0);\n      }\n    }\n\n    // Now we know areas could absorb steppedOffset, time to really update sizes\n\n    areasBefore.list.forEach((item) => updateAreaSize(this.unit, item));\n    areasAfter.list.forEach((item) => updateAreaSize(this.unit, item));\n\n    this.refreshStyleSizes();\n    this.notify('progress', this.snapshot!.gutterNum);\n  }\n\n  private stopDragging(event?: Event): void {\n    if (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    if (this.isDragging === false) {\n      return;\n    }\n\n    this.displayedAreas.forEach((area) => area.component.unlockEvents());\n\n    while (this.dragListeners.length > 0) {\n      const fct = this.dragListeners.pop();\n      if (fct) fct();\n    }\n\n    // Warning: Have to be before \"notify('end')\"\n    // because \"notify('end')\"\" can be linked to \"[size]='x'\" > \"build()\" > \"stopDragging()\"\n    this.isDragging = false;\n\n    // If moved from starting point, notify end\n    if (this.endPoint && (this.startPoint!.x !== this.endPoint.x || this.startPoint!.y !== this.endPoint.y)) {\n      this.notify('end', this.snapshot!.gutterNum);\n    }\n\n    this.renderer.removeClass(this.elRef.nativeElement, 'as-dragging');\n    this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot!.gutterNum - 1].nativeElement, 'as-dragged');\n    this.snapshot = null;\n\n    // Needed to let (click)=\"clickGutter(...)\" event run and verify if mouse moved or not\n    this.ngZone.runOutsideAngular(() => {\n      setTimeout(() => {\n        this.startPoint = null;\n        this.endPoint = null;\n      });\n    });\n  }\n\n  public notify(type: 'start' | 'progress' | 'end' | 'click' | 'dblclick' | 'transitionEnd', gutterNum: number): void {\n    const sizes = this.getVisibleAreaSizes();\n\n    if (type === 'start') {\n      this.dragStart.emit({ gutterNum, sizes });\n    } else if (type === 'end') {\n      this.dragEnd.emit({ gutterNum, sizes });\n    } else if (type === 'click') {\n      this.gutterClick.emit({ gutterNum, sizes });\n    } else if (type === 'dblclick') {\n      this.gutterDblClick.emit({ gutterNum, sizes });\n    } else if (type === 'transitionEnd') {\n      if (this.transitionEndSubscriber) {\n        this.ngZone.run(() => this.transitionEndSubscriber.next(sizes));\n      }\n    } else if (type === 'progress') {\n      // Stay outside zone to allow users do what they want about change detection mechanism.\n      this.dragProgressSubject.next({ gutterNum, sizes });\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.stopDragging();\n  }\n}\n","// tslint:disable\n\nimport { Directive, Input, ElementRef, Renderer2, OnInit, OnDestroy, NgZone } from '@angular/core';\n\nimport { SplitComponent } from '../component/split.component';\nimport { getInputPositiveNumber, getInputBoolean } from '../utils';\n\n@Directive({\n  selector: 'as-split-area, [as-split-area]',\n  exportAs: 'asSplitArea',\n})\nexport class SplitAreaDirective implements OnInit, OnDestroy {\n  private _order: number | null = null;\n\n  @Input() set order(v: number | null) {\n    this._order = getInputPositiveNumber(v, null);\n\n    this.split.updateArea(this, true, false);\n  }\n\n  get order(): number | null {\n    return this._order;\n  }\n\n  ////\n\n  private _size: number | null = null;\n\n  @Input() set size(v: number | null) {\n    this._size = getInputPositiveNumber(v, null);\n\n    this.split.updateArea(this, false, true);\n  }\n\n  get size(): number | null {\n    return this._size;\n  }\n\n  ////\n\n  private _minSize: number | null = null;\n\n  @Input() set minSize(v: number | null) {\n    this._minSize = getInputPositiveNumber(v, null);\n\n    this.split.updateArea(this, false, true);\n  }\n\n  get minSize(): number | null {\n    return this._minSize;\n  }\n\n  ////\n\n  private _maxSize: number | null = null;\n\n  @Input() set maxSize(v: number | null) {\n    this._maxSize = getInputPositiveNumber(v, null);\n\n    this.split.updateArea(this, false, true);\n  }\n\n  get maxSize(): number | null {\n    return this._maxSize;\n  }\n\n  ////\n\n  private _lockSize: boolean = false;\n\n  @Input() set lockSize(v: boolean) {\n    this._lockSize = getInputBoolean(v);\n\n    this.split.updateArea(this, false, true);\n  }\n\n  get lockSize(): boolean {\n    return this._lockSize;\n  }\n\n  ////\n\n  private _visible: boolean = true;\n\n  @Input() set visible(v: boolean) {\n    this._visible = getInputBoolean(v);\n\n    if (this._visible) {\n      this.split.showArea(this);\n      this.renderer.removeClass(this.elRef.nativeElement, 'as-hidden');\n    } else {\n      this.split.hideArea(this);\n      this.renderer.addClass(this.elRef.nativeElement, 'as-hidden');\n    }\n  }\n\n  get visible(): boolean {\n    return this._visible;\n  }\n\n  ////\n\n  private transitionListener: Function;\n  private readonly lockListeners: Array<Function> = [];\n\n  constructor(\n    private ngZone: NgZone,\n    public elRef: ElementRef,\n    private renderer: Renderer2,\n    private split: SplitComponent\n  ) {\n    this.renderer.addClass(this.elRef.nativeElement, 'as-split-area');\n  }\n\n  public ngOnInit(): void {\n    this.split.addArea(this);\n\n    this.ngZone.runOutsideAngular(() => {\n      this.transitionListener = this.renderer.listen(\n        this.elRef.nativeElement,\n        'transitionend',\n        (event: TransitionEvent) => {\n          // Limit only flex-basis transition to trigger the event\n          if (event.propertyName === 'flex-basis') {\n            this.split.notify('transitionEnd', -1);\n          }\n        }\n      );\n    });\n  }\n\n  public setStyleOrder(value: number): void {\n    this.renderer.setStyle(this.elRef.nativeElement, 'order', value);\n  }\n\n  public setStyleFlex(grow: number, shrink: number, basis: string, isMin: boolean, isMax: boolean): void {\n    // Need 3 separated properties to work on IE11 (https://github.com/angular/flex-layout/issues/323)\n    this.renderer.setStyle(this.elRef.nativeElement, 'flex-grow', grow);\n    this.renderer.setStyle(this.elRef.nativeElement, 'flex-shrink', shrink);\n    this.renderer.setStyle(this.elRef.nativeElement, 'flex-basis', basis);\n\n    if (isMin === true) this.renderer.addClass(this.elRef.nativeElement, 'as-min');\n    else this.renderer.removeClass(this.elRef.nativeElement, 'as-min');\n\n    if (isMax === true) this.renderer.addClass(this.elRef.nativeElement, 'as-max');\n    else this.renderer.removeClass(this.elRef.nativeElement, 'as-max');\n  }\n\n  public lockEvents(): void {\n    this.ngZone.runOutsideAngular(() => {\n      this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement, 'selectstart', (e: Event) => false));\n      this.lockListeners.push(this.renderer.listen(this.elRef.nativeElement, 'dragstart', (e: Event) => false));\n    });\n  }\n\n  public unlockEvents(): void {\n    while (this.lockListeners.length > 0) {\n      const fct = this.lockListeners.pop();\n      if (fct) fct();\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.unlockEvents();\n\n    if (this.transitionListener) {\n      this.transitionListener();\n    }\n\n    this.split.removeArea(this);\n  }\n}\n","// tslint:disable\nimport { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SplitComponent } from './component/split.component';\nimport { SplitAreaDirective } from './directive/splitArea.directive';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [SplitComponent, SplitAreaDirective],\n  exports: [SplitComponent, SplitAreaDirective],\n})\nexport class AngularSplitModule {\n  public static forRoot(): ModuleWithProviders<AngularSplitModule> {\n    return {\n      ngModule: AngularSplitModule,\n      providers: [],\n    };\n  }\n\n  public static forChild(): ModuleWithProviders<AngularSplitModule> {\n    return {\n      ngModule: AngularSplitModule,\n      providers: [],\n    };\n  }\n}\n","// tslint:disable\n/*\n * Public API Surface of angular-split\n */\n\nexport { AngularSplitModule } from './lib/module';\nexport { SplitComponent } from './lib/component/split.component';\nexport { SplitAreaDirective } from './lib/directive/splitArea.directive';\n","import { DirectivePosition, ElementPosition } from 'protocol';\n\nexport abstract class ApplicationOperations {\n  abstract viewSource(position: ElementPosition): void;\n  abstract selectDomElement(position: ElementPosition): void;\n  abstract inspect(directivePosition: DirectivePosition, objectPath: string[]): void;\n}\n","<div class=\"meta-data-container\">\n  <a\n    mat-button\n    color=\"primary\"\n    *ngIf=\"viewEncapsulation; let viewEncapsulation\"\n    href=\"https://angular.io/api/core/ViewEncapsulation\"\n    target=\"_blank\"\n  >\n    View Encapsulation: <span class=\"meta-data\">{{ viewEncapsulation }}</span>\n  </a>\n  <a\n    mat-button\n    color=\"primary\"\n    *ngIf=\"changeDetectionStrategy; let changeDetectionStrategy\"\n    href=\"https://angular.io/api/core/ChangeDetectionStrategy\"\n    target=\"_blank\"\n  >\n    Change Detection Strategy: <span class=\"meta-data\">{{ changeDetectionStrategy }}</span>\n  </a>\n</div>\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { DirectivePropertyResolver } from '../../../property-resolver/directive-property-resolver';\nimport { ElementPropertyResolver } from '../../../property-resolver/element-property-resolver';\nimport { ComponentType } from 'protocol';\n\n@Component({\n  selector: 'ng-component-metadata',\n  templateUrl: './component-metadata.component.html',\n  styleUrls: ['./component-metadata.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ComponentMetadataComponent {\n  @Input() currentSelectedComponent: ComponentType;\n\n  constructor(private _nestedProps: ElementPropertyResolver) {}\n\n  viewEncapsulationModes = ['Emulated', 'Native', 'None', 'ShadowDom'];\n\n  get controller(): DirectivePropertyResolver | undefined {\n    if (!this.currentSelectedComponent) {\n      return;\n    }\n    return this._nestedProps.getDirectiveController(this.currentSelectedComponent.name);\n  }\n\n  get viewEncapsulation(): string | undefined {\n    const encapsulationIndex = this?.controller?.directiveViewEncapsulation;\n    if (encapsulationIndex !== undefined) {\n      return this.viewEncapsulationModes[encapsulationIndex];\n    }\n  }\n\n  get changeDetectionStrategy(): string | undefined {\n    const onPush = this?.controller?.directiveHasOnPushStrategy;\n    return onPush ? 'On Push' : onPush !== undefined ? 'Default' : undefined;\n  }\n}\n","<ng-container *ngIf=\"currentSelectedElement; else emptyState\">\n  <ng-container *ngIf=\"currentSelectedElement.component; else currentElementIsDOMElement\">\n    <mat-accordion class=\"property-tab-header\">\n      <div>\n        <mat-expansion-panel [hideToggle]=\"true\">\n          <mat-expansion-panel-header collapsedHeight=\"32px\" expandedHeight=\"32px\">\n            <mat-panel-title>\n              <div class=\"element-header\">\n                <div class=\"component-name\">{{ currentSelectedElement.component.name }}</div>\n                <button mat-icon-button (click)=\"handleViewSource($event)\">\n                  <mat-icon>\n                    code\n                  </mat-icon>\n                </button>\n              </div>\n            </mat-panel-title>\n          </mat-expansion-panel-header>\n          <ng-component-metadata [currentSelectedComponent]=\"currentSelectedElement.component\"></ng-component-metadata>\n        </mat-expansion-panel>\n      </div>\n    </mat-accordion>\n  </ng-container>\n  <ng-template #currentElementIsDOMElement>\n    <div class=\"element-header\">\n      <div class=\"element-name\">{{ currentSelectedElement.element }}</div>\n    </div>\n  </ng-template>\n</ng-container>\n\n<ng-template #emptyState>\n  <div class=\"element-header\">\n    <div class=\"element-name\">No selected Element</div>\n  </div>\n</ng-template>\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { IndexedNode } from '../../directive-forest/index-forest';\n\n@Component({\n  templateUrl: './property-tab-header.component.html',\n  selector: 'ng-property-tab-header',\n  styleUrls: ['./property-tab-header.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PropertyTabHeaderComponent {\n  @Input() currentSelectedElement: IndexedNode;\n  @Input() currentDirectives: string[] | undefined;\n  @Output() viewSource = new EventEmitter<void>();\n\n  handleViewSource(event: MouseEvent): void {\n    event.stopPropagation();\n    this.viewSource.emit();\n  }\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'ng-property-view-header',\n  templateUrl: './property-view-header.component.html',\n  styleUrls: ['./property-view-header.component.scss'],\n})\nexport class PropertyViewHeaderComponent {\n  @Input() directive: string;\n}\n","<mat-toolbar>{{ directive }}</mat-toolbar>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { PropType } from 'protocol';\nimport { FlatNode } from '../../../../../../property-resolver/element-property-resolver';\n\n@Component({\n  selector: 'ng-property-preview',\n  templateUrl: './property-preview.component.html',\n  styleUrls: ['./property-preview.component.scss'],\n})\nexport class PropertyPreviewComponent {\n  @Input() node: FlatNode;\n  @Output() inspect = new EventEmitter<void>();\n\n  get isClickableProp(): boolean {\n    return this.node.prop.descriptor.type === PropType.Function || this.node.prop.descriptor.type === PropType.HTMLNode;\n  }\n}\n","<span class=\"value\" [class.function]=\"isClickableProp\" (click)=\"isClickableProp && inspect.emit()\">\n  {{ node.prop.descriptor.preview }}\n</span>\n","<div class=\"editor\" (click)=\"onClick()\">\n  <span [ngSwitch]=\"currentPropertyState\" class=\"state-container\">\n    <span *ngSwitchCase=\"readState\">\n      <span class=\"editable\">\n        {{ valueToSubmit }}\n      </span>\n    </span>\n    <span *ngSwitchCase=\"writeState\">\n      <input\n        matInput\n        type=\"text\"\n        class=\"editor-input editable\"\n        (mousedown)=\"$event.stopPropagation()\"\n        [(ngModel)]=\"valueToSubmit\"\n        (keydown.enter)=\"accept()\"\n        (keydown.escape)=\"reject()\"\n        (blur)=\"onBlur()\"\n      />\n    </span>\n  </span>\n</div>\n","import {\n  AfterViewChecked,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n} from '@angular/core';\n\ntype EditorType = string | number | boolean;\ntype EditorResult = EditorType | Array<EditorType>;\n\nenum PropertyEditorState {\n  Read,\n  Write,\n}\n\nconst parseValue = (value: EditorResult): EditorResult => {\n  try {\n    return JSON.parse(value as any);\n  } catch {\n    return value.toString();\n  }\n};\n\n@Component({\n  templateUrl: './property-editor.component.html',\n  selector: 'ng-property-editor',\n  styleUrls: ['./property-editor.component.scss'],\n})\nexport class PropertyEditorComponent implements AfterViewChecked, OnInit {\n  @Input() key: string;\n  @Input() initialValue: EditorResult;\n  @Output() updateValue = new EventEmitter<EditorResult>();\n\n  readState = PropertyEditorState.Read;\n  writeState = PropertyEditorState.Write;\n\n  valueToSubmit: EditorResult;\n  currentPropertyState = this.readState;\n\n  constructor(private _cd: ChangeDetectorRef, private _elementRef: ElementRef) {}\n\n  ngOnInit(): void {\n    this.valueToSubmit = this.initialValue;\n  }\n\n  ngAfterViewChecked(): void {\n    if (this.currentPropertyState === this.writeState) {\n      this.editor.focus();\n    }\n  }\n\n  accept(): void {\n    const parsed = parseValue(this.valueToSubmit);\n    this.updateValue.emit(parsed);\n    this._transition(this.readState);\n  }\n\n  reject(): void {\n    this.valueToSubmit = this.initialValue;\n    this._transition(this.readState);\n  }\n\n  onClick(): void {\n    if (this.currentPropertyState === this.readState) {\n      this._transition(this.writeState);\n    }\n  }\n\n  onBlur(): void {\n    if (this.currentPropertyState === this.writeState) {\n      this.accept();\n    }\n  }\n\n  get editor(): HTMLInputElement {\n    return this._elementRef.nativeElement.querySelector('input');\n  }\n\n  private _transition(state: PropertyEditorState): void {\n    this.currentPropertyState = state;\n    if (this.currentPropertyState === this.writeState) {\n      this._cd.detectChanges();\n      this.editor.focus();\n      this.editor.select();\n    }\n  }\n}\n","<mat-tree *ngIf=\"treeControl\" class=\"property-list\" [dataSource]=\"dataSource\" [treeControl]=\"treeControl\">\n  <mat-tree-node matTreeNodePaddingIndent=\"14\" *matTreeNodeDef=\"let node\" matTreeNodePadding>\n    <span class=\"name non-expandable\"> {{ node.prop.name }} </span>:&nbsp;\n    <ng-container *ngIf=\"!node.prop.descriptor.editable; else editable\">\n      <ng-property-preview (inspect)=\"inspect.emit(node)\" [node]=\"node\"></ng-property-preview>\n    </ng-container>\n    <ng-template #editable>\n      <ng-property-editor\n        [key]=\"node.prop.name\"\n        [initialValue]=\"node.prop.descriptor.value || node.prop.descriptor.preview\"\n        (updateValue)=\"handleUpdate(node, $event)\"\n      >\n      </ng-property-editor>\n    </ng-template>\n  </mat-tree-node>\n\n  <mat-tree-node matTreeNodePaddingIndent=\"14\" *matTreeNodeDef=\"let node; when: hasChild\" matTreeNodePadding>\n    <div (click)=\"toggle(node)\">\n      <mat-icon class=\"mat-icon-rtl-mirror\">\n        {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}\n      </mat-icon>\n      &nbsp;\n      <span class=\"name\"> {{ node.prop.name }} </span>:&nbsp;\n      <span class=\"value\">\n        {{ treeControl.isExpanded(node) ? '' : node.prop.descriptor.preview }}\n      </span>\n    </div>\n  </mat-tree-node>\n</mat-tree>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { PropertyDataSource } from '../../../../../property-resolver/property-data-source';\nimport { FlatNode } from '../../../../../property-resolver/element-property-resolver';\nimport { FlatTreeControl } from '@angular/cdk/tree';\n\n@Component({\n  selector: 'ng-property-view-tree',\n  templateUrl: './property-view-tree.component.html',\n  styleUrls: ['./property-view-tree.component.scss'],\n})\nexport class PropertyViewTreeComponent {\n  @Input() dataSource: PropertyDataSource;\n  @Input() treeControl: FlatTreeControl<FlatNode>;\n  @Output() updateValue = new EventEmitter<any>();\n  @Output() inspect = new EventEmitter<any>();\n\n  hasChild = (_: number, node: FlatNode): boolean => node.expandable;\n\n  toggle(node: FlatNode): void {\n    if (this.treeControl.isExpanded(node)) {\n      this.treeControl.collapse(node);\n      return;\n    }\n    this.expand(node);\n  }\n\n  expand(node: FlatNode): void {\n    const { prop } = node;\n    if (!prop.descriptor.expandable) {\n      return;\n    }\n    this.treeControl.expand(node);\n  }\n\n  handleUpdate(node: FlatNode, newValue: any): void {\n    this.updateValue.emit({\n      node,\n      newValue,\n    });\n  }\n}\n","<mat-accordion cdkDropList (cdkDropListDropped)=\"drop($event)\" *ngIf=\"controlsLoaded\" [multi]=\"true\">\n  <div class=\"mat-accordion-content\" *ngFor=\"let index of categoryOrder\" cdkDrag>\n    <mat-expansion-panel *ngIf=\"!panels[index].hidden\" [expanded]=\"true\">\n      <mat-expansion-panel-header collapsedHeight=\"25px\" expandedHeight=\"25px\">\n        <mat-panel-title>\n          {{ panels[index].title }}\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n      <ng-property-view-tree\n        [dataSource]=\"panels[index].controls.dataSource\"\n        [treeControl]=\"panels[index].controls.treeControl\"\n        (updateValue)=\"updateValue($event)\"\n        (inspect)=\"handleInspect($event)\"\n      ></ng-property-view-tree>\n    </mat-expansion-panel>\n  </div>\n</mat-accordion>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport {\n  DirectivePropertyResolver,\n  DirectiveTreeData,\n} from '../../../../property-resolver/directive-property-resolver';\nimport { FlatNode } from '../../../../property-resolver/element-property-resolver';\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\nimport { DirectivePosition } from 'protocol';\n\n@Component({\n  selector: 'ng-property-view-body',\n  templateUrl: './property-view-body.component.html',\n  styleUrls: ['./property-view-body.component.scss'],\n})\nexport class PropertyViewBodyComponent {\n  @Input() controller: DirectivePropertyResolver;\n  @Input() directiveInputControls: DirectiveTreeData;\n  @Input() directiveOutputControls: DirectiveTreeData;\n  @Input() directiveStateControls: DirectiveTreeData;\n\n  @Output() inspect = new EventEmitter<{ node: FlatNode; directivePosition: DirectivePosition }>();\n\n  categoryOrder = [0, 1, 2];\n\n  get panels(): { title: string; hidden: boolean; controls: DirectiveTreeData }[] {\n    return [\n      {\n        title: '@Inputs',\n        hidden: this.directiveInputControls.dataSource.data.length === 0,\n        controls: this.directiveInputControls,\n      },\n      {\n        title: '@Outputs',\n        hidden: this.directiveOutputControls.dataSource.data.length === 0,\n        controls: this.directiveOutputControls,\n      },\n      {\n        title: 'Properties',\n        hidden: this.directiveStateControls.dataSource.data.length === 0,\n        controls: this.directiveStateControls,\n      },\n    ];\n  }\n\n  get controlsLoaded(): boolean {\n    return !!this.directiveStateControls && !!this.directiveOutputControls && !!this.directiveInputControls;\n  }\n\n  updateValue({ node, newValue }: { node: FlatNode; newValue: any }): void {\n    this.controller.updateValue(node, newValue);\n  }\n\n  drop(event: CdkDragDrop<any, any>): void {\n    moveItemInArray(this.categoryOrder, event.previousIndex, event.currentIndex);\n  }\n\n  handleInspect(node: FlatNode): void {\n    this.inspect.emit({\n      node,\n      directivePosition: this.controller.directivePosition,\n    });\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { DirectivePropertyResolver, DirectiveTreeData } from '../../../property-resolver/directive-property-resolver';\nimport { ElementPropertyResolver, FlatNode } from '../../../property-resolver/element-property-resolver';\nimport { DirectivePosition } from 'protocol';\n\n@Component({\n  selector: 'ng-property-view',\n  templateUrl: './property-view.component.html',\n  styleUrls: ['./property-view.component.scss'],\n})\nexport class PropertyViewComponent {\n  @Input() directive: string;\n  @Output() inspect = new EventEmitter<{ node: FlatNode; directivePosition: DirectivePosition }>();\n\n  constructor(private _nestedProps: ElementPropertyResolver) {}\n\n  get controller(): DirectivePropertyResolver | undefined {\n    return this._nestedProps.getDirectiveController(this.directive);\n  }\n\n  get directiveInputControls(): DirectiveTreeData | void {\n    return this.controller?.directiveInputControls;\n  }\n\n  get directiveOutputControls(): DirectiveTreeData | void {\n    return this.controller?.directiveOutputControls;\n  }\n\n  get directiveStateControls(): DirectiveTreeData | void {\n    return this.controller?.directiveStateControls;\n  }\n}\n","<ng-property-view-header [directive]=\"directive\"></ng-property-view-header>\n<ng-property-view-body\n  [controller]=\"controller\"\n  [directiveInputControls]=\"directiveInputControls\"\n  [directiveOutputControls]=\"directiveOutputControls\"\n  [directiveStateControls]=\"directiveStateControls\"\n  (inspect)=\"inspect.emit($event)\"\n></ng-property-view-body>\n","<ng-container *ngIf=\"currentSelectedElement\">\n  <div *ngFor=\"let directive of getCurrentDirectives()\" class=\"explorer-panel\">\n    <ng-property-view (inspect)=\"inspect.emit($event)\" [directive]=\"directive\"></ng-property-view>\n  </div>\n</ng-container>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { IndexedNode } from '../../directive-forest/index-forest';\nimport { FlatNode } from '../../property-resolver/element-property-resolver';\nimport { DirectivePosition } from 'protocol';\n\n@Component({\n  templateUrl: './property-tab-body.component.html',\n  selector: 'ng-property-tab-body',\n  styleUrls: ['./property-tab-body.component.scss'],\n})\nexport class PropertyTabBodyComponent {\n  @Input() currentSelectedElement: IndexedNode | null;\n  @Output() inspect = new EventEmitter<{ node: FlatNode; directivePosition: DirectivePosition }>();\n\n  getCurrentDirectives(): string[] | undefined {\n    if (!this.currentSelectedElement) {\n      return;\n    }\n    const directives = this.currentSelectedElement.directives.map((d) => d.name);\n    if (this.currentSelectedElement.component) {\n      directives.push(this.currentSelectedElement.component.name);\n    }\n    return directives;\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { IndexedNode } from '../directive-forest/index-forest';\nimport { FlatNode } from '../property-resolver/element-property-resolver';\nimport { DirectivePosition } from 'protocol';\n\n@Component({\n  templateUrl: './property-tab.component.html',\n  selector: 'ng-property-tab',\n})\nexport class PropertyTabComponent {\n  @Input() currentSelectedElement: IndexedNode;\n  @Output() viewSource = new EventEmitter<void>();\n  @Output() inspect = new EventEmitter<{ node: FlatNode; directivePosition: DirectivePosition }>();\n}\n","<ng-property-tab-header [currentSelectedElement]=\"currentSelectedElement\" (viewSource)=\"viewSource.emit()\">\n</ng-property-tab-header>\n<ng-property-tab-body (inspect)=\"inspect.emit($event)\" [currentSelectedElement]=\"currentSelectedElement\">\n</ng-property-tab-body>\n","<as-split unit=\"percent\" [direction]=\"splitDirection\" [gutterSize]=\"9\">\n  <as-split-area #directiveForestSplitArea size=\"60\">\n    <as-split direction=\"vertical\" [gutterSize]=\"9\" unit=\"pixel\" [disabled]=\"true\">\n      <as-split-area size=\"*\">\n        <ng-directive-forest\n          (selectNode)=\"handleNodeSelection($event)\"\n          (selectDomElement)=\"handleSelectDomElement($event)\"\n          (setParents)=\"handleSetParents($event)\"\n          (highlightComponent)=\"highlightComponent($event)\"\n          (removeComponentHighlight)=\"removeComponentHighlight()\"\n          (toggleInspector)=\"toggleInspector.emit()\"\n          [forest]=\"forest\"\n          [currentSelectedElement]=\"currentSelectedElement\"\n        ></ng-directive-forest>\n      </as-split-area>\n      <as-split-area size=\"22\">\n        <ng-breadcrumbs\n          (mouseLeaveNode)=\"unhighlight()\"\n          (mouseOverNode)=\"highlight($event)\"\n          *ngIf=\"parents\"\n          (handleSelect)=\"handleSelect($event)\"\n          [parents]=\"parents\"\n        >\n        </ng-breadcrumbs>\n      </as-split-area>\n    </as-split>\n  </as-split-area>\n  <as-split-area size=\"40\" minSize=\"25\">\n    <div class=\"property-tab-wrapper\">\n      <ng-property-tab\n        [currentSelectedElement]=\"currentSelectedElement\"\n        (inspect)=\"inspect($event)\"\n        (viewSource)=\"viewSource()\"\n      ></ng-property-tab>\n    </div>\n  </as-split-area>\n</as-split>\n","import {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport {\n  MessageBus,\n  Events,\n  DevToolsNode,\n  ComponentExplorerViewQuery,\n  ComponentExplorerView,\n  ElementPosition,\n  PropertyQuery,\n  PropertyQueryTypes,\n  DirectivePosition,\n} from 'protocol';\nimport { IndexedNode } from './directive-forest/index-forest';\nimport { ApplicationOperations } from '../../application-operations';\nimport { ElementPropertyResolver } from './property-resolver/element-property-resolver';\nimport { FlatNode } from './directive-forest/component-data-source';\nimport { FlatNode as PropertyFlatNode } from './property-resolver/element-property-resolver';\nimport { DirectiveForestComponent } from './directive-forest/directive-forest.component';\nimport { constructPathOfKeysToPropertyValue } from './property-resolver/directive-property-resolver';\nimport { BreadcrumbsComponent } from './breadcrumbs/breadcrumbs.component';\nimport { SplitComponent } from '../../vendor/angular-split/public_api';\n\nconst sameDirectives = (a: IndexedNode, b: IndexedNode) => {\n  if ((a.component && !b.component) || (!a.component && b.component)) {\n    return false;\n  }\n  if (a.component && b.component && a.component.id !== b.component.id) {\n    return false;\n  }\n  const aDirectives = new Set(a.directives.map((d) => d.id));\n  for (const dir of b.directives) {\n    if (!aDirectives.has(dir.id)) {\n      return false;\n    }\n  }\n  return true;\n};\n\n@Component({\n  selector: 'ng-directive-explorer',\n  templateUrl: './directive-explorer.component.html',\n  styleUrls: ['./directive-explorer.component.scss'],\n  providers: [\n    {\n      provide: ElementPropertyResolver,\n      useClass: ElementPropertyResolver,\n    },\n  ],\n})\nexport class DirectiveExplorerComponent implements OnInit, OnDestroy {\n  @Output() toggleInspector = new EventEmitter<void>();\n\n  currentSelectedElement: IndexedNode | null = null;\n  forest: DevToolsNode[];\n  splitDirection: 'horizontal' | 'vertical' = 'horizontal';\n\n  @ViewChild(SplitComponent, { static: true, read: ElementRef }) splitElementRef: ElementRef;\n  @ViewChild('directiveForestSplitArea', { static: true, read: ElementRef }) directiveForestSplitArea: ElementRef;\n\n  private _resizeObserver = new ResizeObserver((entries) =>\n    this._ngZone.run(() => {\n      const resizedEntry = entries[0];\n\n      if (resizedEntry.target === this.splitElementRef.nativeElement) {\n        this.splitDirection = resizedEntry.contentRect.width <= 500 ? 'vertical' : 'horizontal';\n      }\n\n      if (!this.breadcrumbs) {\n        return;\n      }\n\n      this.breadcrumbs.updateScrollButtonVisibility();\n    })\n  );\n\n  private _clickedElement: IndexedNode | null = null;\n  private _refreshRetryTimeout: any = null;\n\n  parents: FlatNode[] | null = null;\n\n  @ViewChild(DirectiveForestComponent) directiveForest: DirectiveForestComponent;\n  @ViewChild(BreadcrumbsComponent) breadcrumbs: BreadcrumbsComponent;\n\n  constructor(\n    private _appOperations: ApplicationOperations,\n    private _messageBus: MessageBus<Events>,\n    private _propResolver: ElementPropertyResolver,\n    private _cdr: ChangeDetectorRef,\n    private _ngZone: NgZone\n  ) {}\n\n  ngOnInit(): void {\n    this.subscribeToBackendEvents();\n    this.refresh();\n    this._resizeObserver.observe(this.splitElementRef.nativeElement);\n    this._resizeObserver.observe(this.directiveForestSplitArea.nativeElement);\n  }\n\n  ngOnDestroy(): void {\n    this._resizeObserver.unobserve(this.splitElementRef.nativeElement);\n    this._resizeObserver.unobserve(this.directiveForestSplitArea.nativeElement);\n  }\n\n  handleNodeSelection(node: IndexedNode | null): void {\n    if (node) {\n      // We want to guarantee that we're not reusing any of the previous properties.\n      // That's possible if the user has selected an NgForOf and after that\n      // they select another NgForOf instance. In this case, we don't want to diff the props\n      // we want to render from scratch.\n      if (this._clickedElement && !sameDirectives(this._clickedElement, node)) {\n        this._propResolver.clearProperties();\n      }\n      this._clickedElement = node;\n      this._messageBus.emit('setSelectedComponent', [node.position]);\n      this.refresh();\n    } else {\n      this._clickedElement = this.currentSelectedElement = null;\n    }\n  }\n\n  subscribeToBackendEvents(): void {\n    this._messageBus.on('latestComponentExplorerView', (view: ComponentExplorerView) => {\n      this.forest = view.forest;\n      this.currentSelectedElement = this._clickedElement;\n      if (view.properties && this.currentSelectedElement) {\n        this._propResolver.setProperties(this.currentSelectedElement, view.properties);\n      }\n    });\n\n    this._messageBus.on('componentTreeDirty', () => this.refresh());\n  }\n\n  refresh(): void {\n    const success = this._messageBus.emit('getLatestComponentExplorerView', [this._constructViewQuery()]);\n    // If the event was not throttled, we no longer need to retry.\n    if (success) {\n      clearTimeout(this._refreshRetryTimeout);\n      this._refreshRetryTimeout = null;\n      return;\n    }\n    // If the event was throttled and we haven't scheduled a retry yet.\n    if (!this._refreshRetryTimeout) {\n      this._refreshRetryTimeout = setTimeout(() => this.refresh(), 500);\n    }\n  }\n\n  viewSource(): void {\n    if (!this.currentSelectedElement) {\n      return;\n    }\n    this._appOperations.viewSource(this.currentSelectedElement.position);\n  }\n\n  handleSelectDomElement(node: IndexedNode): void {\n    this._appOperations.selectDomElement(node.position);\n  }\n\n  highlight(node: FlatNode): void {\n    if (!node.original.component) {\n      return;\n    }\n    this._messageBus.emit('createHighlightOverlay', [node.position]);\n  }\n\n  unhighlight(): void {\n    this._messageBus.emit('removeHighlightOverlay');\n  }\n\n  private _constructViewQuery(): ComponentExplorerViewQuery | undefined {\n    if (!this._clickedElement) {\n      return;\n    }\n    return {\n      selectedElement: this._clickedElement.position,\n      propertyQuery: this._getPropertyQuery(),\n    };\n  }\n\n  private _getPropertyQuery(): PropertyQuery {\n    // Here we handle the case when a given element has already been selected.\n    // We check if we're dealing with the same instance (i.e., if we have the same\n    // set of directives and component on it), if we do, we want to get the same\n    // set of properties which are already expanded.\n    if (\n      !this._clickedElement ||\n      !this.currentSelectedElement ||\n      !sameDirectives(this._clickedElement, this.currentSelectedElement)\n    ) {\n      return {\n        type: PropertyQueryTypes.All,\n      };\n    }\n    return {\n      type: PropertyQueryTypes.Specified,\n      properties: this._propResolver.getExpandedProperties() || {},\n    };\n  }\n\n  highlightComponent(position: ElementPosition): void {\n    this._messageBus.emit('createHighlightOverlay', [position]);\n  }\n\n  removeComponentHighlight(): void {\n    this._messageBus.emit('removeHighlightOverlay');\n  }\n\n  handleSelect(node: FlatNode): void {\n    this.directiveForest.handleSelect(node);\n  }\n\n  handleSetParents(parents: FlatNode[] | null): void {\n    this.parents = parents;\n    this._cdr.detectChanges();\n  }\n\n  inspect({ node, directivePosition }: { node: PropertyFlatNode; directivePosition: DirectivePosition }): void {\n    const objectPath = constructPathOfKeysToPropertyValue(node.prop);\n    this._appOperations.inspect(directivePosition, objectPath);\n  }\n}\n","export interface Process {\n  env: Env;\n}\n\ninterface Env {\n  LATEST_SHA: string;\n}\n\nexport interface Environment {\n  production: boolean;\n  process: Process;\n}\n\nexport abstract class ApplicationEnvironment {\n  abstract get environment(): Environment;\n}\n","<ng-container [ngSwitch]=\"data.status\">\n  <ng-container *ngSwitchCase=\"'ERROR'\">\n    <h1 mat-dialog-title>\n      Error\n    </h1>\n    <div mat-dialog-content>\n      <p>\n        Could not process uploaded file.\n      </p>\n      <p class=\"error\">\n        {{ data.errorMessage }}\n      </p>\n    </div>\n    <div mat-dialog-actions>\n      <button mat-flat-button [mat-dialog-close]=\"false\">\n        Close\n      </button>\n    </div>\n  </ng-container>\n  <ng-container *ngSwitchCase=\"'INVALID_VERSION'\">\n    <h1 mat-dialog-title>\n      Warning\n    </h1>\n    <div mat-dialog-content>\n      <p>\n        The file you are attempting to upload was recorded in a different format than the one supported by your current\n        Angular DevTools version\n      </p>\n      <p>\n        Current format version: <span class=\"version profiler-version\">{{ data.profilerVersion }}</span>\n      </p>\n\n      <p>\n        Format version of uploaded file: <span class=\"version imported-version\">{{ data.importedVersion }}</span>\n      </p>\n      <p>\n        Files recorded in older versions may no longer be compatible. Do you wish to continue?\n      </p>\n    </div>\n    <div mat-dialog-actions>\n      <button mat-flat-button [mat-dialog-close]=\"false\">\n        No Thanks\n      </button>\n      <button mat-flat-button [mat-dialog-close]=\"true\">\n        Yes\n      </button>\n    </div>\n  </ng-container>\n</ng-container>\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\ninterface DialogData {\n  profilerVersion?: number;\n  importedVersion?: number;\n  errorMessage?: string;\n  status: 'ERROR' | 'INVALID_VERSION';\n}\n\n@Component({\n  selector: 'ng-profiler-import-dialog',\n  templateUrl: './profiler-import-dialog.component.html',\n  styleUrls: ['./profiler-import-dialog.component.scss'],\n})\nexport class ProfilerImportDialogComponent {\n  constructor(\n    public dialogRef: MatDialogRef<ProfilerImportDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData\n  ) {}\n}\n","// Copyright (c) 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/*\n * @param date to convert to a compact ISO8601 format\n * @return date in a compact ISO8601 format\n */\nexport const toISO8601Compact = (date: Date): string => {\n  /*\n   * @param x an integer to append a leading 0 to if less than 9\n   * @return x with a leading 0 appended if less than 9\n   */\n  function leadZero(x: number): string {\n    return (x > 9 ? '' : '0') + x;\n  }\n\n  return (\n    date.getFullYear() +\n    leadZero(date.getMonth() + 1) +\n    leadZero(date.getDate()) +\n    'T' +\n    leadZero(date.getHours()) +\n    leadZero(date.getMinutes()) +\n    leadZero(date.getSeconds())\n  );\n};\n","import { Subject } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport { toISO8601Compact } from './vendor/chromium/date-utilities';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class FileApiService {\n  uploadedData: Subject<any> = new Subject();\n\n  publishFileUpload(parentEvent: InputEvent): void {\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      try {\n        this.uploadedData.next(JSON.parse((event.target as any).result));\n      } catch (e) {\n        this.uploadedData.next({ error: e });\n      }\n      (parentEvent.target as any).value = '';\n    };\n    reader.readAsText((parentEvent.target as any).files[0]);\n  }\n\n  saveObjectAsJSON(object: object): void {\n    const downloadLink = document.createElement('a');\n    downloadLink.download = `NgDevTools-Profile-${toISO8601Compact(new Date())}.json`;\n    downloadLink.href = URL.createObjectURL(new Blob([JSON.stringify(object)], { type: 'application/json' }));\n    downloadLink.click();\n    setTimeout(() => URL.revokeObjectURL(downloadLink.href));\n  }\n}\n","import { ProfilerFrame, DirectiveProfile, ElementProfile } from 'protocol';\n\nconst mergeProperty = (mergeInProp: number | undefined, value: number | undefined) => {\n  if (mergeInProp === undefined) {\n    return value;\n  }\n  if (value === undefined) {\n    return mergeInProp;\n  }\n  return mergeInProp + value;\n};\n\nconst mergeDirective = (mergeIn: DirectiveProfile, second: DirectiveProfile) => {\n  mergeIn.changeDetection = mergeProperty(mergeIn.changeDetection, second.changeDetection);\n  Object.keys(mergeIn.lifecycle).forEach((hook) => {\n    mergeIn.lifecycle[hook] = mergeProperty(mergeIn.lifecycle[hook], second.lifecycle[hook]);\n  });\n};\n\nconst mergeDirectives = (mergeIn: ElementProfile[], second: ElementProfile[]) => {\n  for (let i = 0; i < second.length; i++) {\n    if (!mergeIn[i]) {\n      mergeIn[i] = {\n        children: [],\n        directives: [],\n      };\n    }\n    second[i].directives.forEach((d, idx) => {\n      const mergeInDirective = mergeIn[i].directives[idx];\n      if (mergeInDirective && mergeInDirective.name === d.name) {\n        mergeDirective(mergeInDirective, d);\n      } else {\n        mergeIn[i].directives.push(d);\n      }\n    });\n    mergeDirectives(mergeIn[i].children, second[i].children);\n  }\n};\n\nconst mergeFrame = (mergeIn: ProfilerFrame, second: ProfilerFrame) => {\n  mergeIn.duration += second.duration;\n  mergeIn.source = '';\n  mergeDirectives(mergeIn.directives, second.directives);\n};\n\nexport const mergeFrames = (frames: ProfilerFrame[]): ProfilerFrame | null => {\n  if (!frames || !frames.length) {\n    return null;\n  }\n  const first = JSON.parse(JSON.stringify(frames[0]));\n  for (let i = 1; i < frames.length; i++) {\n    mergeFrame(first, frames[i]);\n  }\n  return first;\n};\n","<ng-recording-modal *ngIf=\"!hasFrames && !visualizing\"></ng-recording-modal>\n\n<p class=\"info\" *ngIf=\"!hasFrames && visualizing\">There's no information to show.</p>\n\n<div style=\"margin: 10px; height: 100%\">\n  <ng-timeline-controls\n    [class.hidden]=\"!hasFrames\"\n    [record]=\"frame\"\n    [empty]=\"!hasFrames\"\n    [frameColor]=\"getColorByFrameRate(estimateFrameRate(frame?.duration))\"\n    [estimatedFrameRate]=\"estimateFrameRate(frame?.duration)\"\n    [visualizationMode]=\"visualizationMode\"\n    [changeDetection]=\"changeDetection\"\n    (changeVisualizationMode)=\"visualizationMode = $event\"\n    (exportProfile)=\"exportProfile.emit($event)\"\n    (toggleChangeDetection)=\"changeDetection = $event\"\n  ></ng-timeline-controls>\n\n  <ng-frame-selector\n    [class.hidden]=\"!hasFrames\"\n    [graphData$]=\"graphData$\"\n    (selectFrames)=\"selectFrames($event)\"\n  ></ng-frame-selector>\n\n  <p class=\"info\" *ngIf=\"hasFrames && !frame\">Select a bar to preview a particular change detection cycle.</p>\n\n  <ng-timeline-visualizer\n    *ngIf=\"hasFrames && frame\"\n    [visualizationMode]=\"visualizationMode\"\n    [frame]=\"frame\"\n    [changeDetection]=\"changeDetection\"\n  ></ng-timeline-visualizer>\n</div>\n","import { Component, EventEmitter, Input, Output, OnDestroy } from '@angular/core';\nimport { ProfilerFrame } from 'protocol';\nimport { GraphNode } from './record-formatter/record-formatter';\nimport { Observable, Subscription, BehaviorSubject } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { mergeFrames } from './record-formatter/frame-merger';\n\nexport enum VisualizationMode {\n  FlameGraph,\n  TreeMap,\n  BarGraph,\n}\n\nconst MAX_HEIGHT = 50;\n\n@Component({\n  selector: 'ng-recording-timeline',\n  templateUrl: './timeline.component.html',\n  styleUrls: ['./timeline.component.scss'],\n})\nexport class TimelineComponent implements OnDestroy {\n  @Input() set stream(data: Observable<ProfilerFrame[]>) {\n    if (this._subscription) {\n      this._subscription.unsubscribe();\n    }\n    this._allRecords = [];\n    this._maxDuration = -Infinity;\n    this._subscription = data.subscribe({\n      next: (frames: ProfilerFrame[]): void => {\n        this._processFrames(frames);\n      },\n      complete: (): void => {\n        this.visualizing = true;\n      },\n    });\n  }\n  @Output() exportProfile = new EventEmitter<void>();\n  visualizationMode = VisualizationMode.BarGraph;\n  changeDetection = false;\n  frame: ProfilerFrame | null = null;\n\n  private _maxDuration = -Infinity;\n  private _subscription: Subscription;\n  private _allRecords: ProfilerFrame[] = [];\n  private _graphDataSubject = new BehaviorSubject<GraphNode[]>([]);\n  visualizing = false;\n  graphData$ = this._graphDataSubject.asObservable().pipe(share());\n\n  selectFrames({ indexes }: { indexes: number[] }): void {\n    this.frame = mergeFrames(indexes.map((index) => this._allRecords[index]));\n  }\n\n  get hasFrames(): boolean {\n    return this._allRecords.length > 0;\n  }\n\n  estimateFrameRate(timeSpent: number): number {\n    const multiplier = Math.max(Math.ceil(timeSpent / 16) - 1, 0);\n    return Math.floor(60 / 2 ** multiplier);\n  }\n\n  getColorByFrameRate(framerate: number): string {\n    if (framerate >= 60) {\n      return '#5cadd3';\n    } else if (framerate < 60 && framerate >= 30) {\n      return '#8a1882';\n    } else if (framerate < 30 && framerate >= 15) {\n      return '#9b4807';\n    }\n    return '#ce271e';\n  }\n\n  ngOnDestroy(): void {\n    if (this._subscription) {\n      this._subscription.unsubscribe();\n    }\n  }\n\n  private _processFrames(frames: ProfilerFrame[]): void {\n    let regenerate = false;\n    for (const frame of frames) {\n      if (frame.duration >= this._maxDuration) {\n        regenerate = true;\n      }\n      this._allRecords.push(frame);\n    }\n    if (regenerate) {\n      this._graphDataSubject.next(this._generateBars());\n      return;\n    }\n    const multiplicationFactor = parseFloat((MAX_HEIGHT / this._maxDuration).toFixed(2));\n    frames.forEach((frame) => this._graphDataSubject.value.push(this._getBarStyles(frame, multiplicationFactor)));\n\n    // We need to pass a new reference, because the CDK virtual scroll\n    // has OnPush strategy, so it doesn't update the UI otherwise.\n    // If this turns out ot be a bottleneck, we can easily create an immutable reference.\n    this._graphDataSubject.next(this._graphDataSubject.value.slice());\n  }\n\n  private _generateBars(): GraphNode[] {\n    const maxValue = this._allRecords.reduce((acc: number, frame: ProfilerFrame) => Math.max(acc, frame.duration), 0);\n    const multiplicationFactor = parseFloat((MAX_HEIGHT / maxValue).toFixed(2));\n    this._maxDuration = Math.max(this._maxDuration, maxValue);\n    return this._allRecords.map((r) => this._getBarStyles(r, multiplicationFactor));\n  }\n\n  private _getBarStyles(\n    record: ProfilerFrame,\n    multiplicationFactor: number\n  ): { style: { [key: string]: string }; toolTip: string } {\n    const height = record.duration * multiplicationFactor;\n    const colorPercentage = Math.max(10, Math.round((height / MAX_HEIGHT) * 100));\n    const backgroundColor = this.getColorByFrameRate(this.estimateFrameRate(record.duration));\n\n    const style = {\n      'background-image': `-webkit-linear-gradient(bottom, ${backgroundColor} ${colorPercentage}%, transparent ${colorPercentage}%)`,\n      cursor: 'pointer',\n      'min-width': '25px',\n      width: '25px',\n      height: '50px',\n    };\n    const toolTip = `${record.source} TimeSpent: ${record.duration.toFixed(3)}ms`;\n    return { style, toolTip };\n  }\n}\n","<div class=\"profiler-wrapper\">\n  <mat-card>\n    <button\n      mat-icon-button\n      color=\"primary\"\n      *ngIf=\"state === 'idle'\"\n      (click)=\"startRecording()\"\n      class=\"profiler-control start-recording-button\"\n    >\n      <mat-icon> circle </mat-icon>\n    </button>\n    <button\n      mat-icon-button\n      *ngIf=\"state === 'recording'\"\n      (click)=\"stopRecording()\"\n      class=\"profiler-control recording-button\"\n    >\n      <mat-icon> circle </mat-icon>\n    </button>\n    <button\n      mat-icon-button\n      color=\"primary\"\n      *ngIf=\"state === 'visualizing'\"\n      (click)=\"discardRecording()\"\n      class=\"profiler-control discard-button\"\n    >\n      <mat-icon> not_interested </mat-icon>\n    </button>\n    <p class=\"instructions\" [class.hidden]=\"state !== 'idle'\">\n      <span> Click the play button to start a new recording, or upload a json file containing profiler data. </span>\n      <br />\n      <span>\n        <input type=\"file\" (change)=\"importProfilerResults($event)\" placeholder=\"Upload file\" accept=\".json\" />\n      </span>\n    </p>\n    <p class=\"instructions\" [class.hidden]=\"state !== 'recording'\">\n      Interact to preview change detection. Clicking stop ends this Profiler recording.\n    </p>\n    <p class=\"instructions\" [class.hidden]=\"state !== 'visualizing'\">\n      Click Save Profile to save your recording or click refresh to clear the current recording.\n    </p>\n  </mat-card>\n  <div id=\"profiler-content-wrapper\">\n    <div class=\"visualization\" *ngIf=\"state !== 'idle'\">\n      <ng-recording-timeline [stream]=\"stream\" (exportProfile)=\"exportProfilerResults()\"> </ng-recording-timeline>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { MessageBus, Events, ProfilerFrame } from 'protocol';\nimport { FileApiService } from '../../file-api-service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ProfilerImportDialogComponent } from './profiler-import-dialog/profiler-import-dialog.component';\nimport { Subject, Subscription } from 'rxjs';\n\ntype State = 'idle' | 'recording' | 'visualizing';\n\nconst SUPPORTED_VERSIONS = [1];\nconst PROFILER_VERSION = 1;\n\n@Component({\n  selector: 'ng-profiler',\n  templateUrl: './profiler.component.html',\n  styleUrls: ['./profiler.component.scss'],\n})\nexport class ProfilerComponent implements OnInit, OnDestroy {\n  state: State = 'idle';\n  stream = new Subject<ProfilerFrame[]>();\n\n  private _fileUploadSubscription: Subscription;\n\n  // We collect this buffer so we can have it available for export.\n  private _buffer: ProfilerFrame[] = [];\n\n  constructor(\n    private _fileApiService: FileApiService,\n    private _messageBus: MessageBus<Events>,\n    public dialog: MatDialog\n  ) {}\n\n  startRecording(): void {\n    this.state = 'recording';\n    this._messageBus.emit('startProfiling');\n  }\n\n  stopRecording(): void {\n    this.state = 'visualizing';\n    this._messageBus.emit('stopProfiling');\n    this.stream.complete();\n  }\n\n  ngOnInit(): void {\n    this._messageBus.on('profilerResults', (remainingRecords) => {\n      if (remainingRecords.duration > 0 && remainingRecords.source) {\n        this.stream.next([remainingRecords]);\n        this._buffer.push(remainingRecords);\n      }\n    });\n\n    this._messageBus.on('sendProfilerChunk', (chunkOfRecords: ProfilerFrame) => {\n      this.stream.next([chunkOfRecords]);\n      this._buffer.push(chunkOfRecords);\n    });\n\n    this._fileUploadSubscription = this._fileApiService.uploadedData.subscribe((importedFile) => {\n      if (importedFile.error) {\n        console.error('Could not process uploaded file');\n        console.error(importedFile.error);\n        this.dialog.open(ProfilerImportDialogComponent, {\n          width: '600px',\n          data: { status: 'ERROR', errorMessage: importedFile.error },\n        });\n\n        return;\n      }\n\n      if (!SUPPORTED_VERSIONS.includes(importedFile.version)) {\n        const processDataDialog = this.dialog.open(ProfilerImportDialogComponent, {\n          width: '600px',\n          data: { importedVersion: importedFile.version, profilerVersion: PROFILER_VERSION, status: 'INVALID_VERSION' },\n        });\n\n        processDataDialog.afterClosed().subscribe((result) => {\n          if (result) {\n            this.state = 'visualizing';\n            this._buffer = importedFile.buffer;\n            setTimeout(() => this.stream.next(importedFile.buffer));\n          }\n        });\n      } else {\n        this.state = 'visualizing';\n        this._buffer = importedFile.buffer;\n        setTimeout(() => this.stream.next(importedFile.buffer));\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this._fileUploadSubscription.unsubscribe();\n  }\n\n  exportProfilerResults(): void {\n    const fileToExport = {\n      version: PROFILER_VERSION,\n      buffer: this._buffer,\n    };\n    this._fileApiService.saveObjectAsJSON(fileToExport);\n  }\n\n  importProfilerResults(event: InputEvent): void {\n    this._fileApiService.publishFileUpload(event);\n  }\n\n  discardRecording(): void {\n    this.stream = new Subject<ProfilerFrame[]>();\n    this.state = 'idle';\n    this._buffer = [];\n  }\n}\n","import { Component, ViewChild, ElementRef, AfterViewInit, Input } from '@angular/core';\nimport { MessageBus, Events, Route } from 'protocol';\nimport * as d3 from 'd3';\n\n@Component({\n  selector: 'ng-router-tree',\n  templateUrl: './router-tree.component.html',\n  styleUrls: ['./router-tree.component.scss'],\n})\nexport class RouterTreeComponent implements AfterViewInit {\n  @ViewChild('svgContainer', { static: true }) private svgContainer: ElementRef;\n  @ViewChild('mainGroup', { static: true }) private g: ElementRef;\n\n  @Input() set routes(routes: Route[]) {\n    this._routes = routes;\n    this.render();\n  }\n\n  private _routes: Route[] = [];\n  private tree: d3.TreeLayout<{}>;\n  private tooltip: any;\n\n  constructor(private _messageBus: MessageBus<Events>) {}\n\n  ngAfterViewInit(): void {\n    this._messageBus.emit('getRoutes');\n  }\n\n  render(): void {\n    if (this._routes.length === 0 || !this.g) {\n      return;\n    }\n\n    // cleanup old render\n    this.tooltip?.remove?.();\n    d3.select(this.g.nativeElement).selectAll('*').remove();\n\n    this.tree = d3.tree();\n    const svg = d3.select(this.svgContainer.nativeElement);\n    svg.attr('height', 500).attr('width', 500);\n\n    const g = d3.select(this.g.nativeElement);\n\n    const svgPadding = 20;\n\n    // Compute the new tree layout.\n    this.tree.nodeSize([75, 200]);\n\n    const root: any = this._routes[0];\n\n    const nodes = this.tree(\n      d3.hierarchy(root.children.length === 0 || root.children.length > 1 ? root : root.children[0], (d) => d.children)\n    );\n\n    // Define the div for the tooltip\n    this.tooltip = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0).style('padding', '0');\n\n    g.selectAll('.link')\n      .data(nodes.descendants().slice(1))\n      .enter()\n      .append('path')\n      .attr('class', 'link')\n      .attr(\n        'd',\n        (d) => `\n            M${d.y},${d.x}\n            C${(d.y + d.parent.y) / 2},\n              ${d.x} ${(d.y + d.parent.y) / 2},\n              ${d.parent.x} ${d.parent.y},\n              ${d.parent.x}`\n      );\n\n    // Declare the nodes\n    const node = g\n      .selectAll('g.node')\n      .data(nodes.descendants())\n      .enter()\n      .append('g')\n      .attr('class', 'node')\n      .on('mouseover', (n) => {\n        const content = `\n          <b>Name:</b> ${n.data.name}<br/>\n          <b>Path:</b> ${n.data.path}<br/>\n          <b>Auxiliary Route:</b> ${n.data.isAux}<br/>\n          <b>Specificity:</b> ${n.data.specificity}<br/>\n          <b>Handler:</b> ${n.data.handler}<br/>\n        `;\n        this.tooltip.style('padding', '4px 8px').transition().style('opacity', 0.9);\n        this.tooltip\n          .html(content)\n          .style('left', d3.event.pageX + 8 + 'px')\n          .style('top', d3.event.pageY + 8 + 'px');\n      })\n      .on('mouseout', () => this.tooltip.transition().style('opacity', 0))\n      .attr('transform', (d) => `translate(${d.y},${d.x})`);\n\n    node\n      .append('circle')\n      .attr('class', (d) => ((d.data as any).isAux ? 'node-aux-route' : 'node-route'))\n      .attr('r', 6);\n\n    node\n      .append('text')\n      .attr('dy', (d) => (d.depth === 0 || !d.children ? '0.35em' : '-1.50em'))\n      .attr('dx', (d) => {\n        if (d.parent && d.children) {\n          return 6;\n        } else if (!d.parent && d.children) {\n          return -13;\n        } else if (d.parent && !d.children) {\n          return 13;\n        }\n      })\n      .attr('text-anchor', (d) => (d.children ? 'end' : 'start'))\n      .text((d) => {\n        const label = (d.data as any).name;\n        return label.length > 20 ? label.slice(0, 17) + '...' : label;\n      });\n\n    // reset transform\n    g.attr('transform', 'translate(0, 0)');\n\n    const svgRect = this.svgContainer.nativeElement.getBoundingClientRect();\n    const gElRect = this.g.nativeElement.getBoundingClientRect();\n\n    g.attr(\n      'transform',\n      `translate(\n        ${svgRect.left - gElRect.left + svgPadding},\n        ${svgRect.top - gElRect.top + svgPadding}\n      )`\n    );\n    const height = gElRect.height + svgPadding * 2;\n    const width = gElRect.width + svgPadding * 2;\n    svg.attr('height', height).attr('width', width);\n  }\n}\n","<div class=\"router-tree-wrapper\">\n  <div class=\"no-routes\" [hidden]=\"routes?.length !== 0\">\n    <h1>\n      There are no routes to display.\n    </h1>\n  </div>\n  <svg #svgContainer class=\"svg-container\" [hidden]=\"routes?.length === 0\">\n    <g #mainGroup></g>\n  </svg>\n</div>\n","/// <reference types=\"resize-observer-browser\" />\nimport { AfterViewInit, Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { Events, MessageBus, Route } from 'protocol';\nimport { DirectiveExplorerComponent } from './directive-explorer/directive-explorer.component';\nimport { ApplicationEnvironment } from '../application-environment';\nimport { MatSlideToggleChange } from '@angular/material/slide-toggle';\nimport { TabUpdate } from './tab-update';\nimport { Theme, ThemeService } from '../theme-service';\nimport { Subscription } from 'rxjs';\nimport { MatTabNav } from '@angular/material/tabs';\n\n@Component({\n  selector: 'ng-devtools-tabs',\n  templateUrl: './devtools-tabs.component.html',\n  styleUrls: ['./devtools-tabs.component.scss'],\n})\nexport class DevToolsTabsComponent implements OnInit, OnDestroy, AfterViewInit {\n  @Input() angularVersion: string | undefined = undefined;\n  @ViewChild(DirectiveExplorerComponent) directiveExplorer: DirectiveExplorerComponent;\n  @ViewChild('navBar', { static: true }) navbar: MatTabNav;\n\n  activeTab: 'Components' | 'Profiler' | 'Router Tree' = 'Components';\n\n  inspectorRunning = false;\n  routerTreeEnabled = false;\n\n  private _currentThemeSubscription: Subscription;\n  currentTheme: Theme;\n\n  routes: Route[] = [];\n\n  constructor(\n    public tabUpdate: TabUpdate,\n    public themeService: ThemeService,\n    private _messageBus: MessageBus<Events>,\n    private _applicationEnvironment: ApplicationEnvironment\n  ) {}\n\n  ngOnInit(): void {\n    this._currentThemeSubscription = this.themeService.currentTheme.subscribe((theme) => (this.currentTheme = theme));\n\n    this._messageBus.on('updateRouterTree', (routes) => {\n      this.routes = routes || [];\n    });\n  }\n\n  get tabs(): string[] {\n    const alwaysShown = ['Components', 'Profiler'];\n    return this.routes.length === 0 ? alwaysShown : [...alwaysShown, 'Router Tree'];\n  }\n\n  ngAfterViewInit(): void {\n    this.navbar.disablePagination = true;\n  }\n\n  ngOnDestroy(): void {\n    this._currentThemeSubscription.unsubscribe();\n  }\n\n  get latestSHA(): string {\n    return this._applicationEnvironment.environment.process.env.LATEST_SHA;\n  }\n\n  changeTab(tab: 'Profiler' | 'Components' | 'Router Tree'): void {\n    this.activeTab = tab;\n    this.tabUpdate.notify();\n    if (tab === 'Router Tree') {\n      this._messageBus.emit('getRoutes');\n    }\n  }\n\n  toggleInspector(): void {\n    this.toggleInspectorState();\n    this.emitInspectorEvent();\n  }\n\n  emitInspectorEvent(): void {\n    if (this.inspectorRunning) {\n      this._messageBus.emit('inspectorStart');\n      this.changeTab('Components');\n    } else {\n      this._messageBus.emit('inspectorEnd');\n      this._messageBus.emit('removeHighlightOverlay');\n    }\n  }\n\n  toggleInspectorState(): void {\n    this.inspectorRunning = !this.inspectorRunning;\n  }\n\n  refresh(): void {\n    this.directiveExplorer.refresh();\n  }\n\n  toggleTimingAPI(change: MatSlideToggleChange): void {\n    change.checked ? this._messageBus.emit('enableTimingAPI') : this._messageBus.emit('disableTimingAPI');\n  }\n}\n","<nav #navBar mat-tab-nav-bar [color]=\"'accent'\">\n  <div id=\"nav-buttons\">\n    <button mat-icon-button color=\"primary\" (click)=\"toggleInspector()\">\n      <mat-icon [ngClass]=\"{ 'inspector-active': inspectorRunning }\">\n        pin_end\n      </mat-icon>\n    </button>\n    <button mat-icon-button color=\"primary\" (click)=\"refresh()\">\n      <mat-icon>\n        refresh\n      </mat-icon>\n    </button>\n    <button mat-icon-button color=\"primary\" [matMenuTriggerFor]=\"menu\">\n      <mat-icon>\n        settings\n      </mat-icon>\n    </button>\n  </div>\n  <a class=\"mat-tab-link\" mat-tab-link *ngFor=\"let tab of tabs\" (click)=\"changeTab(tab)\" [active]=\"activeTab === tab\">\n    {{ tab }}\n  </a>\n  <section *ngIf=\"angularVersion\" id=\"app-angular-version\">\n    Angular version:\n    <span id=\"version-number\">\n      {{ angularVersion }}\n    </span>\n    <ng-container *ngIf=\"latestSHA; let sha\"> | DevTools SHA: {{ sha }} </ng-container>\n  </section>\n</nav>\n\n<div class=\"tab-content\">\n  <ng-directive-explorer\n    [ngClass]=\"{ hidden: activeTab !== 'Components' }\"\n    (toggleInspector)=\"toggleInspector()\"\n  ></ng-directive-explorer>\n  <ng-profiler [ngClass]=\"{ hidden: activeTab !== 'Profiler' }\"></ng-profiler>\n  <ng-router-tree [routes]=\"routes\" [ngClass]=\"{ hidden: activeTab !== 'Router Tree' }\"></ng-router-tree>\n</div>\n\n<mat-menu #menu=\"matMenu\" class=\"options-menu\">\n  <mat-slide-toggle (change)=\"toggleTimingAPI($event)\" class=\"menu-toggle-button\" (click)=\"$event.stopPropagation()\">\n    Enable timing API\n  </mat-slide-toggle>\n  <br />\n  <br />\n  <mat-slide-toggle\n    [checked]=\"currentTheme === 'dark-theme'\"\n    (change)=\"themeService.toggleDarkMode($event.checked)\"\n    class=\"menu-toggle-button\"\n    (click)=\"$event.stopPropagation()\"\n  >\n    Dark Mode\n  </mat-slide-toggle>\n</mat-menu>\n","<div class=\"mat-typography mat-app-background\" style=\"height: 100%;\">\n  <ng-container *ngIf=\"angularExists === true; else errorOrLoading\">\n    <ng-container *ngIf=\"angularIsInDevMode; else angularIsInProdMode\">\n      <div *ngIf=\"supportedVersion; else notSupported\" class=\"devtools-wrapper noselect\" [@enterAnimation]>\n        <ng-devtools-tabs [angularVersion]=\"angularVersion\"></ng-devtools-tabs>\n      </div>\n      <ng-template #notSupported>\n        <p class=\"text-message\">\n          Angular Devtools only supports Angular versions 9 and above with\n          <a href=\"https://angular.io/guide/ivy\" target=\"_blank\">ivy</a> enabled.\n        </p>\n      </ng-template>\n    </ng-container>\n    <ng-template #angularIsInProdMode>\n      <p class=\"text-message\">\n        We detected an application built with production configuration. Angular DevTools only supports development\n        builds.\n      </p>\n    </ng-template>\n  </ng-container>\n  <ng-template #errorOrLoading>\n    <ng-container *ngIf=\"angularExists === false; else loading\">\n      <p class=\"text-message\">\n        Angular application not detected.\n        <span\n          class=\"info-icon\"\n          matTooltip=\"You see this message because the app is still loading, or this is not an Angular application\"\n          >i</span\n        >\n      </p>\n    </ng-container>\n    <ng-template #loading>\n      <div class=\"initializing\" *ngIf=\"angularExists === null\">\n        <div class=\"loading\"></div>\n      </div>\n    </ng-template>\n  </ng-template>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { MessageBus, Events } from 'protocol';\nimport { interval } from 'rxjs';\nimport { animate, style, transition, trigger } from '@angular/animations';\nimport { ThemeService } from './theme-service';\n\n@Component({\n  selector: 'ng-devtools',\n  templateUrl: './devtools.component.html',\n  styleUrls: ['./devtools.component.scss'],\n  animations: [\n    trigger('enterAnimation', [\n      transition(':enter', [style({ opacity: 0 }), animate('200ms', style({ opacity: 1 }))]),\n      transition(':leave', [style({ opacity: 1 }), animate('200ms', style({ opacity: 0 }))]),\n    ]),\n  ],\n})\nexport class DevToolsComponent implements OnInit, OnDestroy {\n  angularExists: boolean | null = null;\n  angularVersion: string | boolean | undefined = undefined;\n  angularIsInDevMode = true;\n  ivy: boolean;\n\n  constructor(private _messageBus: MessageBus<Events>, private _themeService: ThemeService) {}\n\n  private _interval$ = interval(500).subscribe((attempt) => {\n    if (attempt === 10) {\n      this.angularExists = false;\n    }\n    this._messageBus.emit('queryNgAvailability');\n  });\n\n  ngOnInit(): void {\n    this._themeService.initializeThemeWatcher();\n\n    this._messageBus.once('ngAvailability', ({ version, devMode, ivy }) => {\n      this.angularExists = !!version;\n      this.angularVersion = version;\n      this.angularIsInDevMode = devMode;\n      this.ivy = ivy;\n      this._interval$.unsubscribe();\n    });\n  }\n\n  get majorAngularVersion(): number {\n    if (!this.angularVersion) {\n      return -1;\n    }\n    return parseInt(this.angularVersion.toString().split('.')[0], 10);\n  }\n\n  get supportedVersion(): boolean {\n    return (this.majorAngularVersion >= 9 || this.majorAngularVersion === 0) && this.ivy;\n  }\n\n  ngOnDestroy(): void {\n    this._interval$.unsubscribe();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { PropertyViewBodyComponent } from './property-view-body/property-view-body.component';\nimport { CommonModule } from '@angular/common';\nimport { MatTreeModule } from '@angular/material/tree';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { PropertyViewHeaderComponent } from './property-view-header/property-view-header.component';\nimport { PropertyViewComponent } from './property-view.component';\nimport { PropertyViewTreeComponent } from './property-view-body/property-view-tree/property-view-tree.component';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatIconModule } from '@angular/material/icon';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { PropertyEditorComponent } from './property-view-body/property-view-tree/property-editor/property-editor.component';\nimport { FormsModule } from '@angular/forms';\nimport { PropertyPreviewComponent } from './property-view-body/property-view-tree/property-preview/property-preview.component';\n\n@NgModule({\n  declarations: [\n    PropertyViewBodyComponent,\n    PropertyViewHeaderComponent,\n    PropertyViewComponent,\n    PropertyViewTreeComponent,\n    PropertyEditorComponent,\n    PropertyPreviewComponent,\n  ],\n  imports: [\n    MatToolbarModule,\n    MatIconModule,\n    MatTreeModule,\n    CommonModule,\n    MatExpansionModule,\n    DragDropModule,\n    FormsModule\n  ],\n  exports: [PropertyViewBodyComponent, PropertyViewHeaderComponent, PropertyViewComponent],\n})\nexport class PropertyViewModule {}\n","import { NgModule } from '@angular/core';\nimport { PropertyViewModule } from './property-tab-body/property-view/property-view.module';\nimport { PropertyTabComponent } from './property-tab.component';\nimport { PropertyTabHeaderComponent } from './property-tab-header/property-tab-header.component';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material/button';\nimport { PropertyTabBodyComponent } from './property-tab-body/property-tab-body.component';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { ComponentMetadataComponent } from './property-tab-header/component-metadata/component-metadata.component';\nimport { MatIconModule } from '@angular/material/icon';\n\n@NgModule({\n  declarations: [\n    PropertyTabComponent,\n    PropertyTabHeaderComponent,\n    PropertyTabBodyComponent,\n    ComponentMetadataComponent,\n  ],\n  imports: [PropertyViewModule, CommonModule, MatButtonModule, MatExpansionModule, MatIconModule],\n  exports: [PropertyTabComponent],\n})\nexport class PropertyTabModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BreadcrumbsComponent } from '../breadcrumbs/breadcrumbs.component';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\n\n@NgModule({\n  declarations: [BreadcrumbsComponent],\n  imports: [CommonModule, MatCardModule, MatButtonModule, MatIconModule],\n  exports: [BreadcrumbsComponent],\n})\nexport class DirectiveForestModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatIconModule } from '@angular/material/icon';\n\nimport { DirectiveExplorerComponent } from './directive-explorer.component';\nimport { DirectiveForestComponent } from './directive-forest/directive-forest.component';\nimport { FilterComponent } from './directive-forest/filter/filter.component';\nimport { MatTreeModule } from '@angular/material/tree';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { PropertyTabModule } from './property-tab/property-tab.module';\nimport { DirectiveForestModule } from './directive-forest/directive-forest.module';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { AngularSplitModule } from '../../vendor/angular-split/lib/module';\n\n@NgModule({\n  declarations: [DirectiveExplorerComponent, DirectiveForestComponent, FilterComponent],\n  exports: [DirectiveExplorerComponent],\n  imports: [\n    MatTreeModule,\n    MatCardModule,\n    ScrollingModule,\n    MatIconModule,\n    CommonModule,\n    PropertyTabModule,\n    MatButtonModule,\n    MatSnackBarModule,\n    AngularSplitModule,\n    DirectiveForestModule,\n  ],\n})\nexport class DirectiveExplorerModule {}\n","import { ElementProfile, DirectiveProfile, ProfilerFrame } from 'protocol';\n\nexport interface TimelineView<T> {\n  timeline: AppEntry<T>[];\n}\n\nexport interface AppEntry<T> {\n  app: T[];\n  timeSpent: number;\n  source: string;\n}\n\nexport interface GraphNode {\n  toolTip: string;\n  style: any;\n}\n\nexport abstract class RecordFormatter<T> {\n  abstract formatFrame(frame: ProfilerFrame): T;\n  abstract addFrame(nodes: T | T[], elements: ElementProfile[]): number | void;\n\n  getLabel(element: ElementProfile): string {\n    const name = element.directives\n      .filter((d) => d.isComponent)\n      .map((c) => c.name)\n      .join(', ');\n    const attributes = [...new Set(element.directives.filter((d) => !d.isComponent).map((d) => d.name))].join(', ');\n    return attributes === '' ? name : `${name}[${attributes}]`;\n  }\n\n  getValue(element: ElementProfile): number {\n    let result = 0;\n    element.directives.forEach((dir) => {\n      result += this.getDirectiveValue(dir);\n    });\n    return result;\n  }\n\n  getDirectiveValue(directive: DirectiveProfile): number {\n    let result = 0;\n    let current = directive.changeDetection;\n    if (current === undefined) {\n      current = 0;\n    }\n    result += current;\n    Object.keys(directive.lifecycle).forEach((key) => {\n      const value = parseFloat(directive.lifecycle[key]);\n      if (!isNaN(value)) {\n        result += value;\n      }\n    });\n    return result;\n  }\n}\n","import { RecordFormatter } from '../record-formatter';\nimport { ElementProfile, ProfilerFrame } from 'protocol';\nimport { Theme } from '../../../../../../theme-service';\n\nexport interface FlamegraphNode {\n  value: number;\n  color?: string;\n  children: FlamegraphNode[];\n  label: string;\n  instances: number;\n  original: ElementProfile;\n  changeDetected: boolean;\n}\n\nexport const ROOT_LEVEL_ELEMENT_LABEL = 'Entire application';\n\nexport class FlamegraphFormatter extends RecordFormatter<FlamegraphNode> {\n  formatFrame(frame: ProfilerFrame, showChangeDetection?: boolean, theme?: Theme): FlamegraphNode {\n    const result: FlamegraphNode = {\n      value: 0,\n      label: ROOT_LEVEL_ELEMENT_LABEL,\n      children: [],\n      instances: 1,\n      changeDetected: false,\n      original: {\n        children: [],\n        directives: [],\n      },\n    };\n\n    if (showChangeDetection) {\n      result.color = theme === 'dark-theme' ? CHANGE_DETECTION_COLOR_DARK : CHANGE_DETECTION_COLOR_LIGHT;\n    }\n\n    this.addFrame(result.children, frame.directives, showChangeDetection, theme);\n    return result;\n  }\n\n  addFrame(nodes: FlamegraphNode[], elements: ElementProfile[], showChangeDetection?: boolean, theme?: Theme): number {\n    let timeSpent = 0;\n    elements.forEach((element) => {\n      // Possibly undefined because of\n      // the insertion on the backend.\n      if (!element) {\n        console.error('Unable to insert undefined element');\n        return;\n      }\n      const changeDetected = didRunChangeDetection(element);\n      const node: FlamegraphNode = {\n        value: super.getValue(element),\n        label: super.getLabel(element),\n        children: [],\n        instances: 1,\n        original: element,\n        changeDetected,\n      };\n      if (showChangeDetection) {\n        const CHANGE_DETECTION_COLOR =\n          theme === 'dark-theme' ? CHANGE_DETECTION_COLOR_DARK : CHANGE_DETECTION_COLOR_LIGHT;\n        node.color = changeDetected ? CHANGE_DETECTION_COLOR : NO_CHANGE_DETECTION_COLOR;\n      }\n      timeSpent += this.addFrame(node.children, element.children, showChangeDetection, theme);\n      timeSpent += node.value;\n      nodes.push(node);\n    });\n    return timeSpent;\n  }\n}\n\nconst CHANGE_DETECTION_COLOR_LIGHT = '#5cadd3';\nconst CHANGE_DETECTION_COLOR_DARK = '#073d69';\nconst NO_CHANGE_DETECTION_COLOR = 'transparent';\n\nconst didRunChangeDetection = (profile: ElementProfile) => {\n  const components = profile.directives.filter((d) => d.isComponent);\n  if (!components.length) {\n    return false;\n  }\n  return components.some((c) => c.changeDetection !== undefined);\n};\n","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\n\nimport {\n  FlamegraphNode,\n  ROOT_LEVEL_ELEMENT_LABEL,\n  FlamegraphFormatter,\n} from '../../record-formatter/flamegraph-formatter/flamegraph-formatter';\nimport { Color, RawData } from 'ngx-flamegraph/lib/utils';\nimport { ProfilerFrame } from 'protocol';\nimport { SelectedDirective, SelectedEntry } from '../timeline-visualizer.component';\nimport { Theme, ThemeService } from '../../../../../../theme-service';\nimport { Subscription } from 'rxjs';\n\nexport interface GraphNode {\n  directive: string;\n  method: string;\n  value: number;\n}\n\n@Component({\n  selector: 'ng-flamegraph-visualizer',\n  templateUrl: './flamegraph-visualizer.component.html',\n  styleUrls: ['./flamegraph-visualizer.component.scss'],\n})\nexport class FlamegraphVisualizerComponent implements OnInit, OnDestroy {\n  profilerBars: FlamegraphNode[] = [];\n  view: [number, number] = [235, 200];\n  colors: Color;\n\n  private _formatter = new FlamegraphFormatter();\n  private _showChangeDetection = false;\n  private _frame: ProfilerFrame;\n  private _currentThemeSubscription: Subscription;\n  currentTheme: Theme;\n\n  @Output() nodeSelect = new EventEmitter<SelectedEntry>();\n\n  @Input() set frame(frame: ProfilerFrame) {\n    this._frame = frame;\n    this._selectFrame();\n  }\n\n  @Input() set changeDetection(changeDetection: boolean) {\n    this._showChangeDetection = changeDetection;\n    this._selectFrame();\n  }\n\n  constructor(public themeService: ThemeService) {}\n\n  ngOnInit(): void {\n    this._currentThemeSubscription = this.themeService.currentTheme.subscribe((theme) => {\n      this.currentTheme = theme;\n      this.colors =\n        theme === 'dark-theme'\n          ? {\n              hue: [210, 90],\n              saturation: [90, 90],\n              lightness: [25, 25],\n            }\n          : {\n              hue: [50, 15],\n              saturation: [100, 100],\n              lightness: [75, 75],\n            };\n      this._selectFrame();\n    });\n  }\n\n  ngOnDestroy(): void {\n    this._currentThemeSubscription.unsubscribe();\n  }\n\n  selectFrame(frame: RawData): void {\n    if (frame.label === ROOT_LEVEL_ELEMENT_LABEL) {\n      return;\n    }\n\n    const flameGraphNode = frame as FlamegraphNode;\n    const directiveData = this.formatEntryData(flameGraphNode);\n\n    this.nodeSelect.emit({\n      entry: flameGraphNode,\n      selectedDirectives: directiveData,\n    });\n  }\n\n  formatEntryData(flameGraphNode: FlamegraphNode): SelectedDirective[] {\n    const graphData: SelectedDirective[] = [];\n    flameGraphNode.original.directives.forEach((node) => {\n      const changeDetection = node.changeDetection;\n      if (changeDetection !== undefined) {\n        graphData.push({\n          directive: node.name,\n          method: 'changes',\n          value: parseFloat(changeDetection.toFixed(2)),\n        });\n      }\n      Object.keys(node.lifecycle).forEach((key) => {\n        graphData.push({\n          directive: node.name,\n          method: key,\n          value: +node.lifecycle[key].toFixed(2),\n        });\n      });\n    });\n    return graphData;\n  }\n\n  private _selectFrame(): void {\n    this.profilerBars = [this._formatter.formatFrame(this._frame, this._showChangeDetection, this.currentTheme)];\n  }\n}\n","<div class=\"level-profile-wrapper\">\n  <ngx-flamegraph\n    (frameClick)=\"selectFrame($event)\"\n    [config]=\"{ data: profilerBars, color: colors }\"\n    siblingLayout=\"equal\"\n  >\n  </ngx-flamegraph>\n</div>\n","import { RecordFormatter } from '../record-formatter';\nimport { ElementProfile, ProfilerFrame } from 'protocol';\nimport memo from 'memo-decorator';\n\nexport interface BargraphNode {\n  parents: ElementProfile[];\n  value: number;\n  label: string;\n  original: ElementProfile;\n}\n\nexport class BarGraphFormatter extends RecordFormatter<BargraphNode[]> {\n  @memo({ cache: new WeakMap() })\n  formatFrame(frame: ProfilerFrame): BargraphNode[] {\n    const result: BargraphNode[] = [];\n    this.addFrame(result, frame.directives);\n    return result.filter((element) => element.value > 0).sort((a, b) => b.value - a.value);\n  }\n\n  addFrame(nodes: BargraphNode[], elements: ElementProfile[], parents: ElementProfile[] = []): number {\n    let timeSpent = 0;\n    elements.forEach((element) => {\n      // Possibly undefined because of\n      // the insertion on the backend.\n      if (!element) {\n        console.error('Unable to insert undefined element');\n        return;\n      }\n\n      timeSpent += this.addFrame(nodes, element.children, parents.concat(element));\n      timeSpent += super.getValue(element);\n\n      element.directives.forEach((dir) => {\n        const innerNode: BargraphNode = {\n          parents,\n          value: super.getDirectiveValue(dir),\n          label: dir.name,\n          original: element,\n        };\n        nodes.push(innerNode);\n      });\n    });\n    return timeSpent;\n  }\n}\n","<div class=\"wrapper\" @stagger>\n  <div\n    @appear\n    *ngFor=\"let bar of internalData; let i = index\"\n    (click)=\"barClick.emit(originalData[i])\"\n    class=\"bar\"\n    [style.backgroundColor]=\"color\"\n    [style.width.%]=\"bar.value\"\n  >\n    <span [matTooltip]=\"bar.label\">{{ bar.label }}</span>\n  </div>\n</div>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { trigger, style, animate, transition, stagger, query, animateChild } from '@angular/animations';\n\ninterface Data {\n  label: string;\n  value: number;\n}\n\n@Component({\n  selector: 'ng-bar-chart',\n  templateUrl: './bar-chart.component.html',\n  styleUrls: ['./bar-chart.component.scss'],\n  animations: [\n    trigger('appear', [transition(':enter', [style({ width: 0 }), animate('.3s ease', style({ width: '*' }))])]),\n    trigger('stagger', [transition(':enter', [query(':enter', stagger('.1s', [animateChild()]))])]),\n  ],\n})\nexport class BarChartComponent {\n  @Input() set data(nodes: Data[]) {\n    this.originalData = nodes;\n    this.internalData = [];\n    const max = nodes.reduce((a: number, c) => Math.max(a, c.value), -Infinity);\n    for (const node of nodes) {\n      this.internalData.push({\n        label: node.label,\n        value: (node.value / max) * 100,\n      });\n    }\n  }\n  @Input() color: string;\n  @Output() barClick = new EventEmitter<Data>();\n\n  originalData: Data[];\n  internalData: Data[] = [];\n}\n","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { BargraphNode, BarGraphFormatter } from '../../record-formatter/bargraph-formatter';\nimport { ProfilerFrame } from 'protocol';\nimport { SelectedDirective, SelectedEntry } from '../timeline-visualizer.component';\nimport { Theme, ThemeService } from '../../../../../../theme-service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'ng-bargraph-visualizer',\n  templateUrl: './bargraph-visualizer.component.html',\n  styleUrls: ['./bargraph-visualizer.component.scss'],\n})\nexport class BargraphVisualizerComponent implements OnInit, OnDestroy {\n  barColor: string;\n  profileRecords: BargraphNode[];\n\n  @Output() nodeSelect = new EventEmitter<SelectedEntry>();\n\n  private _formatter = new BarGraphFormatter();\n  private _currentThemeSubscription: Subscription;\n  currentTheme: Theme;\n\n  @Input() set frame(data: ProfilerFrame) {\n    this.profileRecords = this._formatter.formatFrame(data);\n  }\n\n  constructor(public themeService: ThemeService) {}\n\n  ngOnInit(): void {\n    this._currentThemeSubscription = this.themeService.currentTheme.subscribe((theme) => {\n      this.currentTheme = theme;\n      this.barColor = theme === 'dark-theme' ? '#073d69' : '#cfe8fc';\n    });\n  }\n\n  ngOnDestroy(): void {\n    this._currentThemeSubscription.unsubscribe();\n  }\n\n  formatEntryData(bargraphNode: BargraphNode): SelectedDirective[] {\n    const graphData: SelectedDirective[] = [];\n    bargraphNode.original.directives.forEach((node) => {\n      const { changeDetection } = node;\n      if (changeDetection) {\n        graphData.push({\n          directive: node.name,\n          method: 'changes',\n          value: parseFloat(changeDetection.toFixed(2)),\n        });\n      }\n      Object.keys(node.lifecycle).forEach((key) => {\n        graphData.push({\n          directive: node.name,\n          method: key,\n          value: +node.lifecycle[key].toFixed(2),\n        });\n      });\n    });\n    return graphData;\n  }\n\n  selectNode(node: BargraphNode): void {\n    this.nodeSelect.emit({\n      entry: node,\n      parentHierarchy: node.parents.map((element) => {\n        return { name: element.directives[0].name };\n      }),\n      selectedDirectives: this.formatEntryData(node),\n    });\n  }\n}\n","<div class=\"level-profile-wrapper\">\n  <ng-bar-chart (barClick)=\"selectNode($event)\" [color]=\"barColor\" [data]=\"profileRecords\"> </ng-bar-chart>\n</div>\n","import { RecordFormatter } from '../record-formatter';\nimport { ElementProfile, ProfilerFrame } from 'protocol';\nimport memo from 'memo-decorator';\n\nexport interface TreeMapNode {\n  id: string;\n  value: number;\n  size: number;\n  children: TreeMapNode[];\n  original: ElementProfile | null;\n}\n\nexport class TreeMapFormatter extends RecordFormatter<TreeMapNode> {\n  @memo({ cache: new WeakMap() })\n  formatFrame(record: ProfilerFrame): TreeMapNode {\n    const children: TreeMapNode[] = [];\n    this.addFrame(children, record.directives);\n    const size = children.reduce((accum, curr) => {\n      return accum + curr.size;\n    }, 0);\n    return {\n      id: 'Application',\n      size,\n      value: size,\n      children,\n      original: null,\n    };\n  }\n\n  addFrame(nodes: TreeMapNode[], elements: ElementProfile[], prev: TreeMapNode | null = null): void {\n    elements.forEach((element) => {\n      if (!element) {\n        console.error('Unable to insert undefined element');\n        return;\n      }\n      const nodeVal = super.getValue(element);\n      const node: TreeMapNode = {\n        id: super.getLabel(element),\n        size: nodeVal,\n        value: nodeVal,\n        children: [],\n        original: element,\n      };\n      this.addFrame(node.children, element.children, node);\n      if (prev) {\n        prev.size += node.size;\n      }\n      nodes.push(node);\n    });\n  }\n}\n","import { Component, ElementRef, Input, NgZone, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport * as treemap from 'webtreemap/build/webtreemap';\nimport { TreeMapNode, TreeMapFormatter } from '../../record-formatter/tree-map-formatter';\nimport { ProfilerFrame } from 'protocol';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\n@Component({\n  selector: 'ng-tree-map-visualizer',\n  templateUrl: './tree-map-visualizer.component.html',\n  styleUrls: ['./tree-map-visualizer.component.scss'],\n})\nexport class TreeMapVisualizerComponent implements OnInit, OnDestroy {\n  private _formatter = new TreeMapFormatter();\n\n  @Input() set frame(frame: ProfilerFrame) {\n    // first element in data is the Application node\n    this.treeMapRecords = this._formatter.formatFrame(frame);\n    if (this.tree) {\n      this._renderTree();\n    }\n  }\n\n  constructor(private _ngZone: NgZone) {}\n\n  private resize$ = new Subject<void>();\n  private _throttledResizeSubscription: Subscription;\n\n  private _resizeObserver: ResizeObserver = new ResizeObserver(() => this._ngZone.run(() => this.resize$.next()));\n  treeMapRecords: TreeMapNode;\n\n  @ViewChild('webTree', { static: true }) tree: ElementRef;\n\n  ngOnInit(): void {\n    this._throttledResizeSubscription = this.resize$.pipe(debounceTime(100)).subscribe(() => this._renderTree());\n    this._resizeObserver.observe(this.tree.nativeElement);\n  }\n\n  ngOnDestroy(): void {\n    this._throttledResizeSubscription.unsubscribe();\n    this._resizeObserver.unobserve(this.tree.nativeElement);\n  }\n\n  private _renderTree(): void {\n    this._removeTree();\n    this._createTree();\n  }\n\n  private _removeTree(): void {\n    Array.from(this.tree.nativeElement.children).forEach((child: HTMLElement) => child.remove());\n  }\n\n  private _createTree(): void {\n    treemap.render(this.tree.nativeElement, this.treeMapRecords, {\n      padding: [20, 5, 5, 5],\n      caption: (node) => `${node.id}: ${node.size.toFixed(3)} ms`,\n      showNode: () => true,\n    });\n  }\n}\n","<div #webTree class=\"web-tree\"></div>\n","<as-split unit=\"percent\" [gutterSize]=\"9\">\n  <as-split-area size=\"75\">\n    <ng-container [ngSwitch]=\"_visualizationMode\">\n      <ng-container *ngSwitchCase=\"cmpVisualizationModes.FlameGraph\">\n        <ng-flamegraph-visualizer\n          [frame]=\"frame\"\n          [changeDetection]=\"changeDetection\"\n          (nodeSelect)=\"handleNodeSelect($event)\"\n        ></ng-flamegraph-visualizer>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"cmpVisualizationModes.TreeMap\">\n        <ng-tree-map-visualizer [frame]=\"frame\"></ng-tree-map-visualizer>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"cmpVisualizationModes.BarGraph\">\n        <ng-bargraph-visualizer [frame]=\"frame\" (nodeSelect)=\"handleNodeSelect($event)\"></ng-bargraph-visualizer>\n      </ng-container>\n    </ng-container>\n  </as-split-area>\n  <as-split-area size=\"25\" minSize=\"15\" *ngIf=\"selectedEntry\">\n    <mat-card class=\"selected-entry\">\n      <mat-toolbar>{{ selectedEntry.label }} details</mat-toolbar>\n      <section class=\"entry-statistics\">\n        <div class=\"txt-total-time\">\n          <label>Total time spent:</label><span> {{ selectedEntry.value | number }} ms</span>\n        </div>\n        <div *ngIf=\"selectedEntry.value > 0\">\n          <ng-execution-details [data]=\"selectedDirectives\"> </ng-execution-details>\n        </div>\n        <div *ngIf=\"parentHierarchy.length > 0\">\n          <div class=\"txt-total-time\"><label>Parent Hierarchy</label></div>\n          <ul>\n            <li *ngFor=\"let parent of parentHierarchy\">\n              {{ parent.name }}\n            </li>\n          </ul>\n        </div>\n      </section>\n    </mat-card>\n  </as-split-area>\n</as-split>\n","import { Component, Input } from '@angular/core';\nimport { VisualizationMode } from '../timeline.component';\nimport { ProfilerFrame } from 'protocol';\nimport { BargraphNode } from '../record-formatter/bargraph-formatter';\nimport { FlamegraphNode } from '../record-formatter/flamegraph-formatter';\n\nexport interface SelectedEntry {\n  entry: BargraphNode | FlamegraphNode;\n  selectedDirectives: SelectedDirective[];\n  parentHierarchy?: { name: string }[];\n}\n\nexport interface SelectedDirective {\n  directive: string;\n  method: string;\n  value: number;\n}\n\n@Component({\n  selector: 'ng-timeline-visualizer',\n  templateUrl: './timeline-visualizer.component.html',\n  styleUrls: ['./timeline-visualizer.component.scss'],\n})\nexport class TimelineVisualizerComponent {\n  @Input() set visualizationMode(mode: VisualizationMode) {\n    this._visualizationMode = mode;\n    this.selectedEntry = null;\n    this.selectedDirectives = [];\n    this.parentHierarchy = [];\n  }\n  @Input() frame: ProfilerFrame;\n  @Input() changeDetection: boolean;\n\n  cmpVisualizationModes = VisualizationMode;\n\n  selectedEntry: BargraphNode | FlamegraphNode | null = null;\n  selectedDirectives: SelectedDirective[] = [];\n  parentHierarchy: { name: string }[] = [];\n  _visualizationMode: VisualizationMode;\n\n  handleNodeSelect({ entry, parentHierarchy, selectedDirectives }: SelectedEntry): void {\n    this.selectedEntry = entry;\n    this.selectedDirectives = selectedDirectives;\n    this.parentHierarchy = parentHierarchy ?? [];\n  }\n}\n","<table>\n  <thead>\n    <th class=\"name\">Directive</th>\n    <th class=\"method\">Method</th>\n    <th class=\"value\">Time</th>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let entry of data\">\n      <td class=\"name\">\n        {{ entry.directive }}\n      </td>\n      <td class=\"method\">\n        {{ entry.method }}\n      </td>\n      <td class=\"value\">{{ entry.value }} ms</td>\n    </tr>\n  </tbody>\n</table>\n","import { Component, Input } from '@angular/core';\n\nexport interface GraphNode {\n  directive: string;\n  method: string;\n  value: number;\n}\n\n@Component({\n  selector: 'ng-execution-details',\n  templateUrl: './execution-details.component.html',\n  styleUrls: ['./execution-details.component.scss'],\n})\nexport class ExecutionDetailsComponent {\n  @Input() data: GraphNode[];\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatCardModule } from '@angular/material/card';\n\nimport { NgxFlamegraphModule } from 'ngx-flamegraph';\n\nimport { FlamegraphVisualizerComponent } from './flamegraph-visualizer/flamegraph-visualizer.component';\nimport { BargraphVisualizerComponent } from './bargraph-visualizer/bargraph-visualizer.component';\nimport { TreeMapVisualizerComponent } from './tree-map-visualizer/tree-map-visualizer.component';\nimport { TimelineVisualizerComponent } from './timeline-visualizer.component';\nimport { BarChartComponent } from './bar-chart/bar-chart.component';\nimport { ExecutionDetailsComponent } from './execution-details/execution-details.component';\nimport { AngularSplitModule } from '../../../../../vendor/angular-split/lib/module';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\n@NgModule({\n  declarations: [\n    ExecutionDetailsComponent,\n    BarChartComponent,\n    TimelineVisualizerComponent,\n    FlamegraphVisualizerComponent,\n    TreeMapVisualizerComponent,\n    BargraphVisualizerComponent,\n  ],\n  imports: [CommonModule, NgxFlamegraphModule, MatTooltipModule, MatToolbarModule, MatCardModule, AngularSplitModule],\n  exports: [TimelineVisualizerComponent],\n})\nexport class RecordingVisualizerModule {}\n","<mat-card class=\"bar-graph-container\">\n  <p class=\"txt-frames\" matTooltip=\"{{ selectionLabel }} / {{ (graphData$ | async)?.length }}\">\n    {{ selectionLabel }} / {{ (graphData$ | async)?.length }}\n  </p>\n  <button mat-icon-button (click)=\"move(-1)\" [disabled]=\"startFrameIndex <= 0 || selectedFrameIndexes.size > 1\">\n    <mat-icon>chevron_left</mat-icon>\n  </button>\n\n  <cdk-virtual-scroll-viewport #barContainer orientation=\"horizontal\" [itemSize]=\"itemWidth\" class=\"bar-container\">\n    <div\n      *cdkVirtualFor=\"let d of graphData$ | async; let i = index\"\n      [ngStyle]=\"d.style\"\n      class=\"frame-bar\"\n      [class.selected]=\"selectedFrameIndexes.has(i)\"\n      (click)=\"handleFrameSelection(i, $event)\"\n    ></div>\n  </cdk-virtual-scroll-viewport>\n\n  <button\n    mat-icon-button\n    (click)=\"move(1)\"\n    [disabled]=\"endFrameIndex >= (graphData$ | async)?.length - 1 || selectedFrameIndexes.size > 1\"\n  >\n    <mat-icon>chevron_right</mat-icon>\n  </button>\n</mat-card>\n","import { Component, ElementRef, EventEmitter, Input, Output, ViewChild, OnDestroy, OnInit } from '@angular/core';\nimport { GraphNode } from '../record-formatter/record-formatter';\nimport { Observable, Subscription } from 'rxjs';\nimport { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\nimport { TabUpdate } from '../../../../tab-update';\n\nconst ITEM_WIDTH = 30;\n\n@Component({\n  selector: 'ng-frame-selector',\n  templateUrl: './frame-selector.component.html',\n  styleUrls: ['./frame-selector.component.scss'],\n})\nexport class FrameSelectorComponent implements OnInit, OnDestroy {\n  @ViewChild('barContainer') barContainer: ElementRef;\n  @Input() set graphData$(graphData: Observable<GraphNode[]>) {\n    this._graphData$ = graphData;\n    this._graphDataSubscription = this._graphData$.subscribe((items) =>\n      setTimeout(() => {\n        this.frameCount = items.length;\n        this.viewport.scrollToIndex(items.length);\n      })\n    );\n  }\n\n  get graphData$(): Observable<GraphNode[]> {\n    return this._graphData$;\n  }\n\n  @Output() selectFrames = new EventEmitter<{ indexes: number[] }>();\n\n  @ViewChild(CdkVirtualScrollViewport) viewport: CdkVirtualScrollViewport;\n\n  startFrameIndex = -1;\n  endFrameIndex = -1;\n  selectedFrameIndexes = new Set<number>();\n  frameCount: number;\n\n  get itemWidth(): number {\n    return ITEM_WIDTH;\n  }\n\n  private _graphData$: Observable<GraphNode[]>;\n  private _graphDataSubscription: Subscription;\n  private _tabUpdateSubscription: Subscription;\n\n  constructor(private _tabUpdate: TabUpdate) {}\n\n  ngOnInit(): void {\n    this._tabUpdateSubscription = this._tabUpdate.tabUpdate$.subscribe(() => {\n      if (this.viewport) {\n        setTimeout(() => {\n          this.viewport.scrollToIndex(0);\n          this.viewport.checkViewportSize();\n        });\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    if (this._tabUpdateSubscription) {\n      this._tabUpdateSubscription.unsubscribe();\n    }\n    if (this._graphDataSubscription) {\n      this._graphDataSubscription.unsubscribe();\n    }\n  }\n\n  get selectionLabel(): string {\n    if (this.startFrameIndex === this.endFrameIndex) {\n      return `${this.startFrameIndex + 1}`;\n    }\n\n    return this._smartJoinIndexLabels([...this.selectedFrameIndexes]);\n  }\n\n  private _smartJoinIndexLabels(indexArray: number[]): string {\n    const sortedIndexes = indexArray.sort((a, b) => a - b);\n\n    const groups: number[][] = [];\n    let prev: number | null = null;\n\n    for (const index of sortedIndexes) {\n      // First iteration: create initial group and set prev variable to the first index\n      if (prev === null) {\n        groups.push([index]);\n        prev = index;\n        continue;\n      }\n\n      // If current index is consecutive with the previous, group them, otherwise start a new group\n      if (prev + 1 === index) {\n        groups[groups.length - 1].push(index);\n      } else {\n        groups.push([index]);\n      }\n\n      prev = index;\n    }\n\n    return groups\n      .filter((group) => group.length > 0)\n      .map((group) => (group.length === 1 ? group[0] + 1 : `${group[0] + 1}-${group[group.length - 1] + 1}`))\n      .join(', ');\n  }\n\n  move(value: number): void {\n    const newVal = this.startFrameIndex + value;\n    this.selectedFrameIndexes = new Set([newVal]);\n    if (newVal > -1 && newVal < this.frameCount) {\n      this._selectFrames({ indexes: this.selectedFrameIndexes });\n    }\n  }\n\n  private _selectFrames({ indexes }: { indexes: Set<number> }): void {\n    const sortedIndexes = [...indexes].sort((a, b) => a - b);\n    this.startFrameIndex = sortedIndexes[0];\n    this.endFrameIndex = sortedIndexes[sortedIndexes.length - 1];\n    this._ensureVisible(this.startFrameIndex);\n    this.selectFrames.emit({ indexes: sortedIndexes });\n  }\n\n  handleFrameSelection(idx: number, event: MouseEvent): void {\n    const { shiftKey, ctrlKey, metaKey } = event;\n\n    if (shiftKey) {\n      const [start, end] = [Math.min(this.startFrameIndex, idx), Math.max(this.endFrameIndex, idx)];\n      this.selectedFrameIndexes = new Set(Array.from(Array(end - start + 1), (_, index) => index + start));\n    } else if (ctrlKey || metaKey) {\n      if (this.selectedFrameIndexes.has(idx)) {\n        if (this.selectedFrameIndexes.size === 1) {\n          return; // prevent deselection when only one frame is selected\n        }\n\n        this.selectedFrameIndexes.delete(idx);\n      } else {\n        this.selectedFrameIndexes.add(idx);\n      }\n    } else {\n      this.selectedFrameIndexes = new Set([idx]);\n    }\n\n    this._selectFrames({ indexes: this.selectedFrameIndexes });\n  }\n\n  private _ensureVisible(index: number): void {\n    if (!this.viewport) {\n      return;\n    }\n    const scrollParent = this.viewport.elementRef.nativeElement;\n    // The left most point we see an element\n    const left = scrollParent.scrollLeft;\n    // That's the right most point we currently see an element.\n    const right = left + scrollParent.offsetWidth;\n    const itemLeft = index * this.itemWidth;\n    if (itemLeft < left) {\n      scrollParent.scrollTo({ left: itemLeft });\n    } else if (right < itemLeft + this.itemWidth) {\n      scrollParent.scrollTo({ left: itemLeft - scrollParent.offsetWidth + this.itemWidth });\n    }\n  }\n}\n","<div class=\"controls\">\n  <mat-form-field *ngIf=\"record\">\n    <mat-select [value]=\"visualizationMode\" (selectionChange)=\"this.changeVisualizationMode.emit($event.value)\">\n      <mat-option [value]=\"flameGraphMode\">\n        Flame graph\n      </mat-option>\n      <mat-option [value]=\"treeMapMode\">\n        Tree map\n      </mat-option>\n      <mat-option [value]=\"barGraphMode\">\n        Bar chart\n      </mat-option>\n    </mat-select>\n  </mat-form-field>\n\n  <div\n    class=\"details\"\n    [class.flame-details]=\"visualizationMode == flameGraphMode\"\n    [class.bar-details]=\"visualizationMode == barGraphMode\"\n  >\n    <label *ngIf=\"estimatedFrameRate >= 60 && record\">\n      Time spent: <span class=\"value\">{{ record?.duration | number }} ms</span>\n    </label>\n\n    <label [style.color]=\"frameColor\" *ngIf=\"estimatedFrameRate < 60 && record\">\n      Time spent: <span class=\"value\">{{ record?.duration | number }} ms</span>\n    </label>\n\n    <label [style.color]=\"frameColor\" *ngIf=\"estimatedFrameRate < 60 && record\">\n      Frame rate: <span class=\"value\">{{ estimatedFrameRate }} fps</span>\n    </label>\n\n    <label *ngIf=\"record?.source && record\">\n      Source: <span class=\"value\">{{ record?.source }}</span>\n    </label>\n\n    <mat-checkbox\n      *ngIf=\"visualizationMode == flameGraphMode\"\n      [checked]=\"changeDetection\"\n      (change)=\"this.toggleChangeDetection.emit(!changeDetection)\"\n    >\n      Show only change detection\n    </mat-checkbox>\n  </div>\n\n  <button *ngIf=\"!empty\" mat-stroked-button (click)=\"exportProfile.emit()\">Save Profile</button>\n</div>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { VisualizationMode } from '../timeline.component';\nimport { ProfilerFrame } from 'protocol';\n\n@Component({\n  selector: 'ng-timeline-controls',\n  templateUrl: './timeline-controls.component.html',\n  styleUrls: ['./timeline-controls.component.scss'],\n})\nexport class TimelineControlsComponent {\n  @Input() record: ProfilerFrame | undefined;\n  @Input() estimatedFrameRate: number;\n  @Input() frameColor: string;\n  @Input() visualizationMode: VisualizationMode;\n  @Input() empty: boolean;\n  @Input() changeDetection: boolean;\n  @Output() changeVisualizationMode = new EventEmitter<VisualizationMode>();\n  @Output() exportProfile = new EventEmitter<void>();\n  @Output() toggleChangeDetection = new EventEmitter<boolean>();\n\n  flameGraphMode = VisualizationMode.FlameGraph;\n  treeMapMode = VisualizationMode.TreeMap;\n  barGraphMode = VisualizationMode.BarGraph;\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'ng-recording-dialog',\n  templateUrl: './recording-dialog.component.html',\n  styleUrls: ['./recording-dialog.component.scss'],\n})\nexport class RecordingDialogComponent {}\n","<section class=\"main-wrapper\">\n  <mat-progress-bar color=\"accent\" mode=\"indeterminate\"></mat-progress-bar>\n</section>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'ng-recording-modal',\n  templateUrl: './recording-modal.component.html',\n  styleUrls: ['./recording-modal.component.scss'],\n})\nexport class RecordingModalComponent {}\n","<section id=\"recorder-wrapper\">\n  <ng-recording-dialog></ng-recording-dialog>\n</section>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TimelineComponent } from './timeline.component';\nimport { RecordingVisualizerModule } from './recording-visualizer/recording-visualizer.module';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { FormsModule } from '@angular/forms';\nimport { NgxFlamegraphModule } from 'ngx-flamegraph';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\nimport { FrameSelectorComponent } from './frame-selector/frame-selector.component';\nimport { TimelineControlsComponent } from './timeline-controls/timeline-controls.component';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { RecordingDialogComponent } from './recording-modal/recording-dialog/recording-dialog.component';\nimport { RecordingModalComponent } from './recording-modal/recording-modal.component';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatDialogModule } from '@angular/material/dialog';\n\n@NgModule({\n  declarations: [\n    TimelineComponent,\n    RecordingDialogComponent,\n    RecordingModalComponent,\n    FrameSelectorComponent,\n    TimelineControlsComponent,\n  ],\n  imports: [\n    ScrollingModule,\n    CommonModule,\n    FormsModule,\n    RecordingVisualizerModule,\n    MatCheckboxModule,\n    MatDialogModule,\n    MatProgressBarModule,\n    MatButtonModule,\n    MatTooltipModule,\n    MatIconModule,\n    MatCardModule,\n    NgxFlamegraphModule,\n    MatSelectModule,\n  ],\n  exports: [TimelineComponent],\n})\nexport class TimelineModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { FormsModule } from '@angular/forms';\n\nimport { ProfilerComponent } from './profiler.component';\nimport { TimelineModule } from './recording/timeline/timeline.module';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { ProfilerImportDialogComponent } from './profiler-import-dialog/profiler-import-dialog.component';\nimport { MatIconModule } from '@angular/material/icon';\n\n@NgModule({\n  declarations: [ProfilerComponent, ProfilerImportDialogComponent],\n  imports: [\n    CommonModule,\n    MatDialogModule,\n    MatIconModule,\n    MatSelectModule,\n    FormsModule,\n    TimelineModule,\n    MatButtonModule,\n    MatCardModule,\n  ],\n  exports: [ProfilerComponent],\n  entryComponents: [ProfilerImportDialogComponent],\n})\nexport class ProfilerModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatDialogModule } from '@angular/material/dialog';\n\nimport { RouterTreeComponent } from './router-tree.component';\n\n@NgModule({\n  declarations: [RouterTreeComponent],\n  imports: [CommonModule, MatDialogModule, MatSelectModule],\n  exports: [RouterTreeComponent],\n  entryComponents: [],\n})\nexport class RouterTreeModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DevToolsTabsComponent } from './devtools-tabs.component';\n\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatIconModule } from '@angular/material/icon';\n\nimport { DirectiveExplorerModule } from './directive-explorer/directive-explorer.module';\nimport { ProfilerModule } from './profiler/profiler.module';\nimport { RouterTreeModule } from './router-tree/router-tree.module';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { TabUpdate } from './tab-update';\n\n@NgModule({\n  declarations: [DevToolsTabsComponent],\n  imports: [\n    MatTabsModule,\n    MatIconModule,\n    DirectiveExplorerModule,\n    ProfilerModule,\n    RouterTreeModule,\n    CommonModule,\n    MatMenuModule,\n    MatButtonModule,\n    MatSlideToggleModule,\n  ],\n  providers: [TabUpdate],\n  exports: [DevToolsTabsComponent],\n})\nexport class DevToolsTabModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DevToolsComponent } from './devtools.component';\nimport { DevToolsTabModule } from './devtools-tabs/devtools-tabs.module';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\n@NgModule({\n  declarations: [DevToolsComponent],\n  imports: [CommonModule, DevToolsTabModule, MatProgressSpinnerModule, MatTooltipModule],\n  exports: [DevToolsComponent],\n})\nexport class DevToolsModule {}\n","/*\n * Public API Surface of ng-devtools\n */\n\nexport * from './lib/devtools.component';\nexport * from './lib/devtools.module';\nexport * from './lib/application-operations';\nexport * from './lib/application-environment';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["trackBy","expandable"],"mappings":"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"}