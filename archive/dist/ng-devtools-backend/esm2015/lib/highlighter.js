let overlay;
let overlayContent;
export const DEV_TOOLS_HIGHLIGHT_NODE_ID = '____ngDevToolsHighlight';
function init() {
    if (overlay) {
        return;
    }
    overlay = document.createElement('div');
    overlay.style.backgroundColor = 'rgba(104, 182, 255, 0.35)';
    overlay.style.position = 'fixed';
    overlay.style.zIndex = '2147483647';
    overlay.style.pointerEvents = 'none';
    overlay.style.display = 'flex';
    overlay.style.borderRadius = '3px';
    overlay.setAttribute('id', DEV_TOOLS_HIGHLIGHT_NODE_ID);
    overlayContent = document.createElement('div');
    overlayContent.style.backgroundColor = 'rgba(104, 182, 255, 0.9)';
    overlayContent.style.position = 'absolute';
    overlayContent.style.bottom = '-23px';
    overlayContent.style.right = '0px';
    overlayContent.style.fontFamily = 'monospace';
    overlayContent.style.fontSize = '11px';
    overlayContent.style.padding = '2px 3px';
    overlayContent.style.borderRadius = '3px';
    overlayContent.style.color = 'white';
    overlay.appendChild(overlayContent);
}
export const findComponentAndHost = (el) => {
    if (!el) {
        return { component: null, host: null };
    }
    while (el) {
        const component = el instanceof HTMLElement && ng.getComponent(el);
        if (component) {
            return { component, host: el };
        }
        if (!el.parentElement) {
            break;
        }
        el = el.parentElement;
    }
    return { component: null, host: null };
};
// Todo(aleksanderbodurri): this should not be part of the highlighter, move this somewhere else
export const getDirectiveName = (dir) => {
    if (dir) {
        return dir.constructor.name;
    }
    return 'unknown';
};
export const highlight = (el) => {
    const cmp = findComponentAndHost(el).component;
    const rect = getComponentRect(el);
    init();
    if (rect) {
        const content = [];
        const name = getDirectiveName(cmp);
        if (name) {
            const pre = document.createElement('span');
            pre.style.opacity = '0.6';
            pre.innerText = '<';
            const text = document.createTextNode(name);
            const post = document.createElement('span');
            post.style.opacity = '0.6';
            post.innerText = '>';
            content.push(pre, text, post);
        }
        showOverlay(rect, content);
    }
};
export function unHighlight() {
    if (overlay && overlay.parentNode) {
        document.body.removeChild(overlay);
    }
}
export function inDoc(node) {
    if (!node) {
        return false;
    }
    const doc = node.ownerDocument.documentElement;
    const parent = node.parentNode;
    return doc === node || doc === parent || !!(parent && parent.nodeType === 1 && doc.contains(parent));
}
export function getComponentRect(el) {
    if (!(el instanceof HTMLElement)) {
        return;
    }
    if (!inDoc(el)) {
        return;
    }
    return el.getBoundingClientRect();
}
function showOverlay({ width = 0, height = 0, top = 0, left = 0 }, content = []) {
    overlay.style.width = ~~width + 'px';
    overlay.style.height = ~~height + 'px';
    overlay.style.top = ~~top + 'px';
    overlay.style.left = ~~left + 'px';
    overlayContent.innerHTML = '';
    content.forEach((child) => overlayContent.appendChild(child));
    document.body.appendChild(overlay);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGlnaGxpZ2h0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZy1kZXZ0b29scy1iYWNrZW5kL3NyYy9saWIvaGlnaGxpZ2h0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsSUFBSSxPQUFZLENBQUM7QUFDakIsSUFBSSxjQUFtQixDQUFDO0FBSXhCLE1BQU0sQ0FBQyxNQUFNLDJCQUEyQixHQUFHLHlCQUF5QixDQUFDO0FBRXJFLFNBQVMsSUFBSTtJQUNYLElBQUksT0FBTyxFQUFFO1FBQ1gsT0FBTztLQUNSO0lBQ0QsT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEMsT0FBTyxDQUFDLEtBQUssQ0FBQyxlQUFlLEdBQUcsMkJBQTJCLENBQUM7SUFDNUQsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO0lBQ2pDLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLFlBQVksQ0FBQztJQUNwQyxPQUFPLENBQUMsS0FBSyxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUM7SUFDckMsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO0lBQy9CLE9BQU8sQ0FBQyxLQUFLLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztJQUNuQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSwyQkFBMkIsQ0FBQyxDQUFDO0lBQ3hELGNBQWMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQy9DLGNBQWMsQ0FBQyxLQUFLLENBQUMsZUFBZSxHQUFHLDBCQUEwQixDQUFDO0lBQ2xFLGNBQWMsQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLFVBQVUsQ0FBQztJQUMzQyxjQUFjLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUM7SUFDdEMsY0FBYyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcs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Q0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFFbkMsY0FBYyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFDOUIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBRTlELFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3JDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUeXBlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmxldCBvdmVybGF5OiBhbnk7XG5sZXQgb3ZlcmxheUNvbnRlbnQ6IGFueTtcblxuZGVjbGFyZSBjb25zdCBuZzogYW55O1xuXG5leHBvcnQgY29uc3QgREVWX1RPT0xTX0hJR0hMSUdIVF9OT0RFX0lEID0gJ19fX19uZ0RldlRvb2xzSGlnaGxpZ2h0JztcblxuZnVuY3Rpb24gaW5pdCgpOiB2b2lkIHtcbiAgaWYgKG92ZXJsYXkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBvdmVybGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDEwNCwgMTgyLCAyNTUsIDAuMzUpJztcbiAgb3ZlcmxheS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gIG92ZXJsYXkuc3R5bGUuekluZGV4ID0gJzIxNDc0ODM2NDcnO1xuICBvdmVybGF5LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgb3ZlcmxheS5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnM3B4JztcbiAgb3ZlcmxheS5zZXRBdHRyaWJ1dGUoJ2lkJywgREVWX1RPT0xTX0hJR0hMSUdIVF9OT0RFX0lEKTtcbiAgb3ZlcmxheUNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgb3ZlcmxheUNvbnRlbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMTA0LCAxODIsIDI1NSwgMC45KSc7XG4gIG92ZXJsYXlDb250ZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgb3ZlcmxheUNvbnRlbnQuc3R5bGUuYm90dG9tID0gJy0yM3B4JztcbiAgb3ZlcmxheUNvbnRlbnQuc3R5bGUucmlnaHQgPSAnMHB4JztcbiAgb3ZlcmxheUNvbnRlbnQuc3R5bGUuZm9udEZhbWlseSA9ICdtb25vc3BhY2UnO1xuICBvdmVybGF5Q29udGVudC5zdHlsZS5mb250U2l6ZSA9ICcxMXB4JztcbiAgb3ZlcmxheUNvbnRlbnQuc3R5bGUucGFkZGluZyA9ICcycHggM3B4JztcbiAgb3ZlcmxheUNvbnRlbnQuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzNweCc7XG4gIG92ZXJsYXlDb250ZW50LnN0eWxlLmNvbG9yID0gJ3doaXRlJztcbiAgb3ZlcmxheS5hcHBlbmRDaGlsZChvdmVybGF5Q29udGVudCk7XG59XG5cbmV4cG9ydCBjb25zdCBmaW5kQ29tcG9uZW50QW5kSG9zdCA9IChlbDogTm9kZSB8IHVuZGVmaW5lZCk6IHsgY29tcG9uZW50OiBhbnk7IGhvc3Q6IEhUTUxFbGVtZW50IHwgbnVsbCB9ID0+IHtcbiAgaWYgKCFlbCkge1xuICAgIHJldHVybiB7IGNvbXBvbmVudDogbnVsbCwgaG9zdDogbnVsbCB9O1xuICB9XG4gIHdoaWxlIChlbCkge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgbmcuZ2V0Q29tcG9uZW50KGVsKTtcbiAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICByZXR1cm4geyBjb21wb25lbnQsIGhvc3Q6IGVsIGFzIEhUTUxFbGVtZW50IH07XG4gICAgfVxuICAgIGlmICghZWwucGFyZW50RWxlbWVudCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgfVxuICByZXR1cm4geyBjb21wb25lbnQ6IG51bGwsIGhvc3Q6IG51bGwgfTtcbn07XG5cbi8vIFRvZG8oYWxla3NhbmRlcmJvZHVycmkpOiB0aGlzIHNob3VsZCBub3QgYmUgcGFydCBvZiB0aGUgaGlnaGxpZ2h0ZXIsIG1vdmUgdGhpcyBzb21ld2hlcmUgZWxzZVxuZXhwb3J0IGNvbnN0IGdldERpcmVjdGl2ZU5hbWUgPSAoZGlyOiBUeXBlPHVua25vd24+IHwgdW5kZWZpbmVkIHwgbnVsbCk6IHN0cmluZyA9PiB7XG4gIGlmIChkaXIpIHtcbiAgICByZXR1cm4gZGlyLmNvbnN0cnVjdG9yLm5hbWU7XG4gIH1cbiAgcmV0dXJuICd1bmtub3duJztcbn07XG5cbmV4cG9ydCBjb25zdCBoaWdobGlnaHQgPSAoZWw6IEhUTUxFbGVtZW50KTogdm9pZCA9PiB7XG4gIGNvbnN0IGNtcCA9IGZpbmRDb21wb25lbnRBbmRIb3N0KGVsKS5jb21wb25lbnQ7XG4gIGNvbnN0IHJlY3QgPSBnZXRDb21wb25lbnRSZWN0KGVsKTtcblxuICBpbml0KCk7XG4gIGlmIChyZWN0KSB7XG4gICAgY29uc3QgY29udGVudDogTm9kZVtdID0gW107XG4gICAgY29uc3QgbmFtZSA9IGdldERpcmVjdGl2ZU5hbWUoY21wKTtcbiAgICBpZiAobmFtZSkge1xuICAgICAgY29uc3QgcHJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgcHJlLnN0eWxlLm9wYWNpdHkgPSAnMC42JztcbiAgICAgIHByZS5pbm5lclRleHQgPSAnPCc7XG4gICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmFtZSk7XG4gICAgICBjb25zdCBwb3N0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgcG9zdC5zdHlsZS5vcGFjaXR5ID0gJzAuNic7XG4gICAgICBwb3N0LmlubmVyVGV4dCA9ICc+JztcbiAgICAgIGNvbnRlbnQucHVzaChwcmUsIHRleHQsIHBvc3QpO1xuICAgIH1cbiAgICBzaG93T3ZlcmxheShyZWN0LCBjb250ZW50KTtcbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVuSGlnaGxpZ2h0KCk6IHZvaWQge1xuICBpZiAob3ZlcmxheSAmJiBvdmVybGF5LnBhcmVudE5vZGUpIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG92ZXJsYXkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbkRvYyhub2RlOiBhbnkpOiBib29sZWFuIHtcbiAgaWYgKCFub2RlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGRvYyA9IG5vZGUub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgcmV0dXJuIGRvYyA9PT0gbm9kZSB8fCBkb2MgPT09IHBhcmVudCB8fCAhIShwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlID09PSAxICYmIGRvYy5jb250YWlucyhwYXJlbnQpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBvbmVudFJlY3QoZWw6IE5vZGUpOiBET01SZWN0IHwgQ2xpZW50UmVjdCB8IHVuZGVmaW5lZCB7XG4gIGlmICghKGVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghaW5Eb2MoZWwpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbn1cblxuaW50ZXJmYWNlIE92ZXJsYXlEaW1lbnNpb25zQW5kUG9zaXRpb24ge1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgdG9wOiBudW1iZXI7XG4gIGxlZnQ6IG51bWJlcjtcbn1cblxuZnVuY3Rpb24gc2hvd092ZXJsYXkoXG4gIHsgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCB0b3AgPSAwLCBsZWZ0ID0gMCB9OiBPdmVybGF5RGltZW5zaW9uc0FuZFBvc2l0aW9uLFxuICBjb250ZW50OiBhbnlbXSA9IFtdXG4pOiB2b2lkIHtcbiAgb3ZlcmxheS5zdHlsZS53aWR0aCA9IH5+d2lkdGggKyAncHgnO1xuICBvdmVybGF5LnN0eWxlLmhlaWdodCA9IH5+aGVpZ2h0ICsgJ3B4JztcbiAgb3ZlcmxheS5zdHlsZS50b3AgPSB+fnRvcCArICdweCc7XG4gIG92ZXJsYXkuc3R5bGUubGVmdCA9IH5+bGVmdCArICdweCc7XG5cbiAgb3ZlcmxheUNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gIGNvbnRlbnQuZm9yRWFjaCgoY2hpbGQpID0+IG92ZXJsYXlDb250ZW50LmFwcGVuZENoaWxkKGNoaWxkKSk7XG5cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5KTtcbn1cbiJdfQ==